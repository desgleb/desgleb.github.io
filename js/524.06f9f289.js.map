{"version":3,"file":"js/524.06f9f289.js","mappings":"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","sources":["webpack://money-catcher/./src/views/AccountsView.vue?6119","webpack://money-catcher/./src/views/AccountsView.vue","webpack://money-catcher/./src/views/AccountsView.vue?1ce2"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3ea64e18\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Ваши счета\", -1))\nconst _hoisted_2 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_3 = { class: \"col\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"У вас не прикреплена база.\", -1))\nconst _hoisted_5 = {\n  key: 1,\n  class: \"row\"\n}\nconst _hoisted_6 = { class: \"col s12\" }\nconst _hoisted_7 = { class: \"row\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"col s12 m3\" }, [\n  /*#__PURE__*/_createElementVNode(\"button\", {\n    class: \"btn modal-trigger\",\n    \"data-target\": \"modalAddAccount\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"i\", { class: \"material-icons right\" }, \"add_circle_outline\"),\n    /*#__PURE__*/_createTextVNode(\" Добавить \")\n  ])\n], -1))\nconst _hoisted_9 = {\n  key: 0,\n  class: \"col s12 m2\"\n}\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn modal-trigger blue\",\n  \"data-target\": \"modalTransferBetweenAccounts\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"material-icons right\" }, \"swap_horiz\"),\n  /*#__PURE__*/_createTextVNode(\" Перевод \")\n], -1))\nconst _hoisted_11 = [\n  _hoisted_10\n]\nconst _hoisted_12 = { key: 0 }\nconst _hoisted_13 = { key: 1 }\nconst _hoisted_14 = { class: \"card-panel\" }\nconst _hoisted_15 = { class: \"highlight centered responsive-table\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", null, [\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Наименование\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Текущий баланс\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Баланс (все операции)\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"В общем балансе\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Действия\")\n  ])\n], -1))\nconst _hoisted_17 = {\n  key: 0,\n  class: \"material-icons green-text\"\n}\nconst _hoisted_18 = {\n  key: 1,\n  class: \"material-icons red-text\"\n}\nconst _hoisted_19 = { class: \"row mb-0 flex-center\" }\nconst _hoisted_20 = { class: \"col\" }\nconst _hoisted_21 = [\"id\"]\nconst _hoisted_22 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"material-icons\" }, \"edit\", -1))\nconst _hoisted_23 = [\n  _hoisted_22\n]\nconst _hoisted_24 = { class: \"col\" }\nconst _hoisted_25 = [\"id\"]\nconst _hoisted_26 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", { class: \"material-icons\" }, \"delete\", -1))\nconst _hoisted_27 = [\n  _hoisted_26\n]\n\nimport MonthSelectComponent from '@/components/MonthSelectComponent.vue';\r\nimport { useBalanceStore } from '@/stores/balance';\r\nimport { useAccountsStore } from '@/stores/accounts';\r\nimport { useFiltersStore } from '@/stores/filters';\r\nimport { useStatusStore } from '@/stores/status';\r\nimport { useTransactionsStore } from '@/stores/transactions';\r\nimport { storeToRefs } from 'pinia';\r\nimport { computed } from 'vue';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AccountsView',\n  setup(__props) {\n\r\nconst { totalBalance } = storeToRefs(useBalanceStore());\r\nconst { accounts, selectedAccountId } = storeToRefs(useAccountsStore());\r\nconst { currencyFilter } = useFiltersStore();\r\nconst { isBaseReady, isAccountExist } = storeToRefs(useStatusStore());\r\nconst { transactions } = storeToRefs(useTransactionsStore());\r\n\r\nconst accountsPlus = computed(() => {\r\n  if (!accounts.value) return [];\r\n  return accounts.value.map((acc) => {\r\n    const forecastSum = transactions.value\r\n      .filter((rec) => rec.isForecast)\r\n      .filter((rec) => rec.accountId === acc.id)\r\n      .reduce((total, record): number => {\r\n        if (record.type === 'income') {\r\n          total += +record.amount;\r\n          return total;\r\n        } else if (record.type === 'outcome') {\r\n          total -= +record.amount;\r\n          return total;\r\n        }\r\n        return total;\r\n      }, 0);\r\n\r\n    return {\r\n      ...acc,\r\n      forecastSum\r\n    };\r\n  });\r\n});\r\n\r\nconst setAccountId = (event: any) => {\r\n  let el: HTMLButtonElement;\r\n  if (event.target.tagName === 'BUTTON') {\r\n    el = event.target;\r\n  } else {\r\n    el = event.target.parentElement;\r\n  }\r\n  selectedAccountId.value = el.id;\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    (!_unref(isBaseReady))\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _hoisted_4,\n            _createElementVNode(\"p\", null, [\n              _createTextVNode(\"Создайте свою базу или прикрепите существующую базу в \"),\n              _createVNode(_component_router_link, { to: \"/profile\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"профиле\")\n                ]),\n                _: 1\n              })\n            ])\n          ])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"div\", _hoisted_7, [\n              _hoisted_8,\n              (_unref(accounts).length > 1)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _hoisted_11))\n                : _createCommentVNode(\"\", true)\n            ]),\n            (!_unref(isAccountExist))\n              ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_12, \"У Вас нет счетов. Создайте хотя бы один\"))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n                  _createElementVNode(\"h4\", null, \"Общий текущий баланс: \" + _toDisplayString(_unref(currencyFilter)(_unref(totalBalance))), 1),\n                  _createElementVNode(\"div\", _hoisted_14, [\n                    _createElementVNode(\"table\", _hoisted_15, [\n                      _hoisted_16,\n                      _createElementVNode(\"tbody\", null, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(accountsPlus.value, (acc) => {\n                          return (_openBlock(), _createElementBlock(\"tr\", {\n                            key: acc.id\n                          }, [\n                            _createElementVNode(\"td\", null, _toDisplayString(acc.name), 1),\n                            _createElementVNode(\"td\", {\n                              class: _normalizeClass({'red-text': acc.balance < 0})\n                            }, _toDisplayString(_unref(currencyFilter)(acc.balance)), 3),\n                            _createElementVNode(\"td\", {\n                              class: _normalizeClass({'red-text': acc.balance < 0})\n                            }, _toDisplayString(_unref(currencyFilter)(acc.balance + acc.forecastSum)), 3),\n                            _createElementVNode(\"td\", null, [\n                              (acc.isCountable)\n                                ? (_openBlock(), _createElementBlock(\"i\", _hoisted_17, \"check\"))\n                                : (_openBlock(), _createElementBlock(\"i\", _hoisted_18, \"block\"))\n                            ]),\n                            _createElementVNode(\"td\", null, [\n                              _createElementVNode(\"div\", _hoisted_19, [\n                                _createElementVNode(\"div\", _hoisted_20, [\n                                  _createElementVNode(\"a\", {\n                                    id: acc.id,\n                                    class: \"yellow btn modal-trigger black-text\",\n                                    \"data-target\": \"modalEditAccount\",\n                                    onClick: setAccountId\n                                  }, _hoisted_23, 8, _hoisted_21)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_24, [\n                                  _createElementVNode(\"a\", {\n                                    id: acc.id,\n                                    class: \"red btn modal-trigger\",\n                                    \"data-target\": \"modalDeleteAccount\",\n                                    onClick: setAccountId\n                                  }, _hoisted_27, 8, _hoisted_25)\n                                ])\n                              ])\n                            ])\n                          ]))\n                        }), 128))\n                      ])\n                    ])\n                  ])\n                ]))\n          ])\n        ]))\n  ], 64))\n}\n}\n\n})","<template>\r\n  <h3>Ваши счета</h3>\r\n  <div v-if=\"!isBaseReady\" class=\"row\">\r\n    <div class=\"col\">\r\n      <p>У вас не прикреплена база.</p>\r\n      <p>Создайте свою базу или прикрепите существующую базу в\r\n        <router-link to=\"/profile\">профиле</router-link>\r\n      </p>\r\n    </div>\r\n  </div>\r\n  <div v-else class=\"row\">\r\n    <div class=\"col s12\">\r\n      <div class=\"row\">\r\n        <div class=\"col s12 m3\">\r\n          <button\r\n            class=\"btn modal-trigger\"\r\n            data-target=\"modalAddAccount\">\r\n            <i class=\"material-icons right\">add_circle_outline</i>\r\n            Добавить\r\n          </button>\r\n        </div>\r\n        <div v-if=\"accounts.length > 1\" class=\"col s12 m2\">\r\n          <button\r\n            class=\"btn modal-trigger blue\"\r\n            data-target=\"modalTransferBetweenAccounts\">\r\n            <i class=\"material-icons right\">swap_horiz</i>\r\n            Перевод\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <h4 v-if=\"!isAccountExist\">У Вас нет счетов. Создайте хотя бы один</h4>\r\n      <div v-else>\r\n        <h4>Общий текущий баланс: {{ currencyFilter(totalBalance) }}</h4>\r\n        <div class=\"card-panel\">\r\n          <table class=\"highlight centered responsive-table\">\r\n            <thead>\r\n            <tr>\r\n              <th>Наименование</th>\r\n              <th>Текущий баланс</th>\r\n              <th>Баланс (все операции)</th>\r\n              <th>В общем балансе</th>\r\n              <th>Действия</th>\r\n            </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            <tr v-for=\"acc in accountsPlus\" :key=\"acc.id\">\r\n              <td>{{ acc.name }}</td>\r\n              <!--suppress JSUnresolvedReference -->\r\n              <td :class=\"{'red-text': acc.balance < 0}\">{{ currencyFilter(acc.balance) }}</td>\r\n              <!--suppress JSUnresolvedReference -->\r\n              <td :class=\"{'red-text': acc.balance < 0}\">{{\r\n                  currencyFilter(acc.balance + acc.forecastSum)\r\n                }}\r\n              </td>\r\n              <td>\r\n                <i v-if=\"acc.isCountable\" class=\"material-icons green-text\">check</i>\r\n                <i v-else class=\"material-icons red-text\">block</i>\r\n              </td>\r\n              <td>\r\n                <div class=\"row mb-0 flex-center\">\r\n                  <div class=\"col\">\r\n                    <a\r\n                      :id=\"acc.id\"\r\n                      class=\"yellow btn modal-trigger black-text\"\r\n                      data-target=\"modalEditAccount\"\r\n                      @click=\"setAccountId\">\r\n                      <i class=\"material-icons\">edit</i>\r\n                    </a>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <a\r\n                      :id=\"acc.id\"\r\n                      class=\"red btn modal-trigger\"\r\n                      data-target=\"modalDeleteAccount\"\r\n                      @click=\"setAccountId\">\r\n                      <i class=\"material-icons\">delete</i>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport MonthSelectComponent from '@/components/MonthSelectComponent.vue';\r\nimport { useBalanceStore } from '@/stores/balance';\r\nimport { useAccountsStore } from '@/stores/accounts';\r\nimport { useFiltersStore } from '@/stores/filters';\r\nimport { useStatusStore } from '@/stores/status';\r\nimport { useTransactionsStore } from '@/stores/transactions';\r\nimport { storeToRefs } from 'pinia';\r\nimport { computed } from 'vue';\r\n\r\nconst { totalBalance } = storeToRefs(useBalanceStore());\r\nconst { accounts, selectedAccountId } = storeToRefs(useAccountsStore());\r\nconst { currencyFilter } = useFiltersStore();\r\nconst { isBaseReady, isAccountExist } = storeToRefs(useStatusStore());\r\nconst { transactions } = storeToRefs(useTransactionsStore());\r\n\r\nconst accountsPlus = computed(() => {\r\n  if (!accounts.value) return [];\r\n  return accounts.value.map((acc) => {\r\n    const forecastSum = transactions.value\r\n      .filter((rec) => rec.isForecast)\r\n      .filter((rec) => rec.accountId === acc.id)\r\n      .reduce((total, record): number => {\r\n        if (record.type === 'income') {\r\n          total += +record.amount;\r\n          return total;\r\n        } else if (record.type === 'outcome') {\r\n          total -= +record.amount;\r\n          return total;\r\n        }\r\n        return total;\r\n      }, 0);\r\n\r\n    return {\r\n      ...acc,\r\n      forecastSum\r\n    };\r\n  });\r\n});\r\n\r\nconst setAccountId = (event: any) => {\r\n  let el: HTMLButtonElement;\r\n  if (event.target.tagName === 'BUTTON') {\r\n    el = event.target;\r\n  } else {\r\n    el = event.target.parentElement;\r\n  }\r\n  selectedAccountId.value = el.id;\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.accounts-header {\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n\r\n  @media (max-width: 1280px) {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n\r\n.flex-center {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  & .ml-0 {\r\n    margin-left: unset;\r\n  }\r\n}\r\n</style>","import script from \"./AccountsView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AccountsView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AccountsView.vue?vue&type=style&index=0&id=3ea64e18&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ea64e18\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createElementVNode","_hoisted_2","key","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_createTextVNode","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_defineComponent","__name","setup","__props","totalBalance","storeToRefs","useBalanceStore","accounts","selectedAccountId","useAccountsStore","currencyFilter","useFiltersStore","isBaseReady","isAccountExist","useStatusStore","transactions","useTransactionsStore","accountsPlus","computed","value","map","acc","forecastSum","filter","rec","isForecast","accountId","id","reduce","total","record","type","amount","setAccountId","event","el","target","tagName","parentElement","_ctx","_cache","_component_router_link","_resolveComponent","_openBlock","_createElementBlock","_Fragment","_unref","length","_createCommentVNode","_toDisplayString","_renderList","name","_normalizeClass","balance","isCountable","onClick","_createVNode","to","default","_withCtx","_","__exports__"],"sourceRoot":""}
"use strict";(self["webpackChunkmoney_catcher"]=self["webpackChunkmoney_catcher"]||[]).push([[212],{6212:function(e,t,l){l.r(t),l.d(t,{default:function(){return O}});var a=l(3396),c=l(4870),s=l(7139),n=l(8263),i=l(3256),r=l(3060),o=l(9545),d=l(1020);const u=e=>((0,a.dD)("data-v-92436776"),e=e(),(0,a.Cn)(),e),_=u((()=>(0,a._)("h3",null,"Ваши счета",-1))),g=u((()=>(0,a._)("hr",null,null,-1))),m={key:0,class:"row"},h={class:"col"},k=u((()=>(0,a._)("p",null,"У вас не прикреплена база.",-1))),w={key:1},b={key:2,class:"row"},v={class:"row"},y=u((()=>(0,a._)("div",{class:"col s12 m3"},[(0,a._)("button",{class:"btn modal-trigger","data-target":"modalAddAccount"},[(0,a._)("i",{class:"material-icons right"},"add_circle_outline"),(0,a.Uk)(" Добавить ")])],-1))),p={key:0,class:"col s12 m3"},f=u((()=>(0,a._)("button",{class:"btn modal-trigger blue","data-target":"modalTransferBetweenAccounts"},[(0,a._)("i",{class:"material-icons right"},"swap_horiz"),(0,a.Uk)(" Перевод ")],-1))),U=[f],D={class:"row"},S={class:"table-scrollable"},A={class:"highlight centered responsive-table"},C=u((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"green lighten-5"},"Наименование"),(0,a._)("th",{class:"green lighten-5"},"Текущий баланс"),(0,a._)("th",{class:"green lighten-5"},"Баланс (все операции)"),(0,a._)("th",{class:"green lighten-5"},"В общем балансе"),(0,a._)("th",{class:"green lighten-5"},"Действия")])],-1))),x={key:0,class:"material-icons green-text"},z={key:1,class:"material-icons red-text"},B={class:"row mb-0 flex-center"},E={class:"col"},F=["id"],I=u((()=>(0,a._)("i",{class:"material-icons"},"edit",-1))),J=[I],T={class:"col"},H=["id"],N=u((()=>(0,a._)("i",{class:"material-icons"},"delete",-1))),Y=[N];var Z=(0,a.aZ)({__name:"AccountsView",setup(e){const{accounts:t,selectedAccountId:l,allAccountsSum:u}=(0,d.Jk)((0,n.o)()),{currencyFilter:f}=(0,i.y)(),{isBaseReady:I,isAccountExist:N}=(0,d.Jk)((0,r.e)()),{transactions:Z}=(0,d.Jk)((0,o.C)()),q=(0,a.Fl)((()=>t.value?t.value.map((e=>{const t=Z.value.filter((e=>e.isForecast)).filter((t=>t.accountId===e.id)).reduce(((e,t)=>"income"===t.type?(e+=+t.amount,e):"outcome"===t.type?(e-=+t.amount,e):e),0);return{...e,forecastSum:t}})):[])),K=e=>{let t;t="BUTTON"===e.target.tagName?e.target:e.target.parentElement,l.value=t.id};return(e,l)=>{const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[_,g,(0,c.SU)(I)?(0,c.SU)(N)?((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",v,[y,(0,c.SU)(t).length>1?((0,a.wg)(),(0,a.iD)("div",p,U)):(0,a.kq)("",!0)]),(0,a._)("div",D,[(0,a._)("h4",null,"Общий текущий баланс: "+(0,s.zw)((0,c.SU)(f)((0,c.SU)(u))),1),(0,a._)("div",S,[(0,a._)("table",A,[C,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(q.value,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,s.zw)(e.name),1),(0,a._)("td",{class:(0,s.C_)({"red-text":e.balance<0})},(0,s.zw)((0,c.SU)(f)(e["balance"])),3),(0,a._)("td",{class:(0,s.C_)({"red-text":e.balance<0})},(0,s.zw)((0,c.SU)(f)(e["balance"]+e["forecastSum"])),3),(0,a._)("td",null,[e.isCountable?((0,a.wg)(),(0,a.iD)("i",x,"check")):((0,a.wg)(),(0,a.iD)("i",z,"block"))]),(0,a._)("td",null,[(0,a._)("div",B,[(0,a._)("div",E,[(0,a._)("a",{id:e.id,class:"yellow btn modal-trigger black-text","data-target":"modalEditAccount",onClick:K},J,8,F)]),(0,a._)("div",T,[(0,a._)("a",{id:e.id,class:"red btn modal-trigger","data-target":"modalDeleteAccount",onClick:K},Y,8,H)])])])])))),128))])])])])])):((0,a.wg)(),(0,a.iD)("h4",w,"У Вас нет счетов. Создайте хотя бы один")):((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",h,[k,(0,a._)("p",null,[(0,a.Uk)("Создайте свою базу или прикрепите существующую базу в "),(0,a.Wm)(n,{to:"/profile"},{default:(0,a.w5)((()=>[(0,a.Uk)("профиле")])),_:1})])])]))],64)}}}),q=l(89);const K=(0,q.Z)(Z,[["__scopeId","data-v-92436776"]]);var O=K}}]);
//# sourceMappingURL=212.7873ebae.js.map
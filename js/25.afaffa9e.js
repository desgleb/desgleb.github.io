"use strict";(self["webpackChunkmoney_catcher"]=self["webpackChunkmoney_catcher"]||[]).push([[25],{25:function(e,t,l){l.r(t),l.d(t,{default:function(){return D}});var a=l(6768),c=l(144),s=l(4232),n=l(4574),r=l(6459),i=l(2132),o=l(6995),u=l(3367);const d=e=>((0,a.Qi)("data-v-92436776"),e=e(),(0,a.jt)(),e),k=d((()=>(0,a.Lk)("h3",null,"Ваши счета",-1))),L=d((()=>(0,a.Lk)("hr",null,null,-1))),g={key:0,class:"row"},m={class:"col"},h=d((()=>(0,a.Lk)("p",null,"У вас не прикреплена база.",-1))),b={key:1},v={key:2,class:"row"},p={class:"row"},C=d((()=>(0,a.Lk)("div",{class:"col s12 m3"},[(0,a.Lk)("button",{class:"btn modal-trigger","data-target":"modalAddAccount"},[(0,a.Lk)("i",{class:"material-icons right"},"add_circle_outline"),(0,a.eW)(" Добавить ")])],-1))),y={key:0,class:"col s12 m3"},_=d((()=>(0,a.Lk)("button",{class:"btn modal-trigger blue","data-target":"modalTransferBetweenAccounts"},[(0,a.Lk)("i",{class:"material-icons right"},"swap_horiz"),(0,a.eW)(" Перевод ")],-1))),f=[_],E={class:"row"},w={class:"table-scrollable"},A={class:"highlight centered responsive-table"},X=d((()=>(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"green lighten-5"},"Наименование"),(0,a.Lk)("th",{class:"green lighten-5"},"Текущий баланс"),(0,a.Lk)("th",{class:"green lighten-5"},"Баланс (все операции)"),(0,a.Lk)("th",{class:"green lighten-5"},"В общем балансе"),(0,a.Lk)("th",{class:"green lighten-5"},"Действия")])],-1))),R={key:0,class:"material-icons green-text"},x={key:1,class:"material-icons red-text"},F={class:"row mb-0 flex-center"},W={class:"col"},I=["id"],B=d((()=>(0,a.Lk)("i",{class:"material-icons"},"edit",-1))),P=[B],S={class:"col"},T=["id"],K=d((()=>(0,a.Lk)("i",{class:"material-icons"},"delete",-1))),N=[K];var Q=(0,a.pM)({__name:"AccountsView",setup(e){const{accounts:t,selectedAccountId:l,allAccountsSum:d}=(0,u.bP)((0,n.l)()),{currencyFilter:_}=(0,r.c)(),{isBaseReady:B,isAccountExist:K}=(0,u.bP)((0,i.X)()),{transactions:Q}=(0,u.bP)((0,o.G)()),j=(0,a.EW)((()=>t.value?t.value.map((e=>{const t=Q.value.filter((e=>e.isForecast)).filter((t=>t.accountId===e.id)).reduce(((e,t)=>"income"===t.type?(e+=+t.amount,e):"outcome"===t.type?(e-=+t.amount,e):e),0);return{...e,forecastSum:t}})):[])),z=e=>{let t;t="BUTTON"===e.target.tagName?e.target:e.target.parentElement,l.value=t.id};return(e,l)=>{const n=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[k,L,(0,c.R1)(B)?(0,c.R1)(K)?((0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("div",p,[C,(0,c.R1)(t).length>1?((0,a.uX)(),(0,a.CE)("div",y,f)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",E,[(0,a.Lk)("h4",null,"Общий текущий баланс: "+(0,s.v_)((0,c.R1)(_)((0,c.R1)(d))),1),(0,a.Lk)("div",w,[(0,a.Lk)("table",A,[X,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(j.value,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",null,(0,s.v_)(e.name),1),(0,a.Lk)("td",{class:(0,s.C4)({"red-text":e.balance<0})},(0,s.v_)((0,c.R1)(_)(e["balance"])),3),(0,a.Lk)("td",{class:(0,s.C4)({"red-text":e.balance<0})},(0,s.v_)((0,c.R1)(_)(e["balance"]+e["forecastSum"])),3),(0,a.Lk)("td",null,[e.isCountable?((0,a.uX)(),(0,a.CE)("i",R,"check")):((0,a.uX)(),(0,a.CE)("i",x,"block"))]),(0,a.Lk)("td",null,[(0,a.Lk)("div",F,[(0,a.Lk)("div",W,[(0,a.Lk)("a",{id:e.id,class:"yellow btn modal-trigger black-text","data-target":"modalEditAccount",onClick:z},P,8,I)]),(0,a.Lk)("div",S,[(0,a.Lk)("a",{id:e.id,class:"red btn modal-trigger","data-target":"modalDeleteAccount",onClick:z},N,8,T)])])])])))),128))])])])])])):((0,a.uX)(),(0,a.CE)("h4",b,"У Вас нет счетов. Создайте хотя бы один")):((0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("div",m,[h,(0,a.Lk)("p",null,[(0,a.eW)("Создайте свою базу или прикрепите существующую базу в "),(0,a.bF)(n,{to:"/profile"},{default:(0,a.k6)((()=>[(0,a.eW)("профиле")])),_:1})])])]))],64)}}}),j=l(1241);const z=(0,j.A)(Q,[["__scopeId","data-v-92436776"]]);var D=z}}]);
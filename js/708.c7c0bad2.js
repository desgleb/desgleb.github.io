"use strict";(self["webpackChunkvue_cash"]=self["webpackChunkvue_cash"]||[]).push([[708],{6708:function(e,r,t){t.r(r),t.d(r,{default:function(){return x}});var s=t(3396);const n={class:"page-title"},a=(0,s._)("h3",null,"Счет",-1),l=(0,s._)("i",{class:"material-icons"},"refresh",-1),c=[l],i={key:1,class:"row"};function u(e,r,t,l,u,d){const o=(0,s.up)("Loader"),h=(0,s.up)("HomeBill"),_=(0,s.up)("HomeCurrency");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n,[a,(0,s._)("button",{class:"btn waves-effect waves-light btn-small",onClick:r[0]||(r[0]=(...e)=>d.refresh&&d.refresh(...e))},c)]),u.loading?((0,s.wg)(),(0,s.j4)(o,{key:0})):((0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(h,{rates:u.currency.rates},null,8,["rates"]),(0,s.Wm)(_,{rates:u.currency.rates,date:u.currency.date},null,8,["rates","date"])]))])}var d=t(7139);const o={class:"col s12 m6 l4"},h={class:"card light-blue bill-card"},_={class:"card-content white-text"},w=(0,s._)("span",{class:"card-title"},"Счет в валюте",-1);function y(e,r,t,n,a,l){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",h,[(0,s._)("div",_,[w,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.currencies,(r=>((0,s.wg)(),(0,s.iD)("p",{key:r,class:"currency-line"},[(0,s._)("span",null,(0,d.zw)(e.$filters.currencyFilter(l.getCurrency(r),r)),1)])))),128))])])])}var g={name:"HomeBill",props:["rates"],data(){return{currencies:["RUB","USD","EUR"]}},computed:{base(){return this.$store.getters.info.bill/(this.rates["RUB"]/this.rates["EUR"])}},methods:{getCurrency(e){return Math.floor(this.base*this.rates[e])}}},m=t(89);const v=(0,m.Z)(g,[["render",y]]);var f=v;const p={class:"col s12 m6 l8"},b={class:"card orange darken-3 bill-card"},k={class:"card-content white-text"},C=(0,s._)("div",{class:"card-header"},[(0,s._)("span",{class:"card-title"},"Курс валют")],-1),D=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"Валюта"),(0,s._)("th",null,"Курс"),(0,s._)("th",null,"Дата")])],-1);function H(e,r,t,n,a,l){return(0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",b,[(0,s._)("div",k,[C,(0,s._)("table",null,[D,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.currencies,(r=>((0,s.wg)(),(0,s.iD)("tr",{key:r},[(0,s._)("td",null,(0,d.zw)(r),1),(0,s._)("td",null,(0,d.zw)(t.rates[r].toFixed(5)),1),(0,s._)("td",null,(0,d.zw)(e.$filters.dateFilter(t.date,"date")),1)])))),128))])])])])])}var U={name:"HomeCurrency",props:["rates","date"],data(){return{currencies:["RUB","USD","EUR"]}}};const B=(0,m.Z)(U,[["render",H]]);var R=B,$=t(8412),z={name:"Home",components:{Loader:$.Z,HomeBill:f,HomeCurrency:R},data(){return{loading:!0,currency:null}},methods:{async refresh(){this.loading=!0,this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1}},async mounted(){this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1}};const Z=(0,m.Z)(z,[["render",u]]);var x=Z}}]);
//# sourceMappingURL=708.c7c0bad2.js.map
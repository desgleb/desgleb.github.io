"use strict";(self["webpackChunkmoney_catcher"]=self["webpackChunkmoney_catcher"]||[]).push([[45],{2045:function(t,e,l){l.r(e),l.d(e,{default:function(){return O}});var a=l(3396),c=l(4870),s=l(7139),n=l(6175),i=l(8263),r=l(3256),o=l(3060),d=l(9545),u=l(1020);const _=t=>((0,a.dD)("data-v-730d2560"),t=t(),(0,a.Cn)(),t),g=_((()=>(0,a._)("h3",null,"Ваши счета",-1))),m={key:0,class:"row"},k={class:"col"},w=_((()=>(0,a._)("p",null,"У вас не прикреплена база.",-1))),v={key:1,class:"row"},h={class:"col s12"},b={class:"row"},y=_((()=>(0,a._)("div",{class:"col s12 m3"},[(0,a._)("button",{class:"btn modal-trigger","data-target":"modalAddAccount"},[(0,a._)("i",{class:"material-icons right"},"add_circle_outline"),(0,a.Uk)(" Добавить ")])],-1))),p={key:0,class:"col s12 m2"},f=_((()=>(0,a._)("button",{class:"btn modal-trigger blue","data-target":"modalTransferBetweenAccounts"},[(0,a._)("i",{class:"material-icons right"},"swap_horiz"),(0,a.Uk)(" Перевод ")],-1))),D=[f],U={key:0},C={key:1},S={class:"card-panel"},A={class:"highlight centered responsive-table"},x=_((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Наименование"),(0,a._)("th",null,"Текущий баланс"),(0,a._)("th",null,"Баланс (все операции)"),(0,a._)("th",null,"В общем балансе"),(0,a._)("th",null,"Действия")])],-1))),z={key:0,class:"material-icons green-text"},B={key:1,class:"material-icons red-text"},J={class:"row mb-0 flex-center"},E={class:"col"},F=["id"],I=_((()=>(0,a._)("i",{class:"material-icons"},"edit",-1))),T=[I],H={class:"col"},N=["id"],Y=_((()=>(0,a._)("i",{class:"material-icons"},"delete",-1))),Z=[Y];var q=(0,a.aZ)({__name:"AccountsView",setup(t){const{totalBalance:e}=(0,u.Jk)((0,n.G)()),{accounts:l,selectedAccountId:_}=(0,u.Jk)((0,i.o)()),{currencyFilter:f}=(0,r.y)(),{isBaseReady:I,isAccountExist:Y}=(0,u.Jk)((0,o.e)()),{transactions:q}=(0,u.Jk)((0,d.C)()),G=(0,a.Fl)((()=>l.value?l.value.map((t=>{const e=q.value.filter((t=>t.isForecast)).filter((e=>e.accountId===t.id)).reduce(((t,e)=>"income"===e.type?(t+=+e.amount,t):"outcome"===e.type?(t-=+e.amount,t):t),0);return{...t,forecastSum:e}})):[])),K=t=>{let e;e="BUTTON"===t.target.tagName?t.target:t.target.parentElement,_.value=e.id};return(t,n)=>{const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[g,(0,c.SU)(I)?((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",h,[(0,a._)("div",b,[y,(0,c.SU)(l).length>1?((0,a.wg)(),(0,a.iD)("div",p,D)):(0,a.kq)("",!0)]),(0,c.SU)(Y)?((0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("h4",null,"Общий текущий баланс: "+(0,s.zw)((0,c.SU)(f)((0,c.SU)(e))),1),(0,a._)("div",S,[(0,a._)("table",A,[x,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(G.value,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",null,(0,s.zw)(t.name),1),(0,a._)("td",{class:(0,s.C_)({"red-text":t.balance<0})},(0,s.zw)((0,c.SU)(f)(t.balance)),3),(0,a._)("td",{class:(0,s.C_)({"red-text":t.balance<0})},(0,s.zw)((0,c.SU)(f)(t.balance+t.forecastSum)),3),(0,a._)("td",null,[t.isCountable?((0,a.wg)(),(0,a.iD)("i",z,"check")):((0,a.wg)(),(0,a.iD)("i",B,"block"))]),(0,a._)("td",null,[(0,a._)("div",J,[(0,a._)("div",E,[(0,a._)("a",{id:t.id,class:"yellow btn modal-trigger black-text","data-target":"modalEditAccount",onClick:K},T,8,F)]),(0,a._)("div",H,[(0,a._)("a",{id:t.id,class:"red btn modal-trigger","data-target":"modalDeleteAccount",onClick:K},Z,8,N)])])])])))),128))])])])])):((0,a.wg)(),(0,a.iD)("h4",U,"У Вас нет счетов. Создайте хотя бы один"))])])):((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",k,[w,(0,a._)("p",null,[(0,a.Uk)("Создайте свою базу или прикрепите существующую базу в "),(0,a.Wm)(i,{to:"/profile"},{default:(0,a.w5)((()=>[(0,a.Uk)("профиле")])),_:1})])])]))],64)}}}),G=l(89);const K=(0,G.Z)(q,[["__scopeId","data-v-730d2560"]]);var O=K}}]);
//# sourceMappingURL=45.8167d2ec.js.map
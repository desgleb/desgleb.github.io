"use strict";(self["webpackChunkmoney_catcher"]=self["webpackChunkmoney_catcher"]||[]).push([[524],{2524:function(t,e,a){a.r(e),a.d(e,{default:function(){return O}});var l=a(3396),c=a(4870),s=a(7139),n=a(6175),i=a(8263),r=a(3256),o=a(3060),d=a(9545),u=a(1020);const _=t=>((0,l.dD)("data-v-3ea64e18"),t=t(),(0,l.Cn)(),t),g=_((()=>(0,l._)("h3",null,"Ваши счета",-1))),m={key:0,class:"row"},k={class:"col"},w=_((()=>(0,l._)("p",null,"У вас не прикреплена база.",-1))),v={key:1,class:"row"},h={class:"col s12"},b={class:"row"},y=_((()=>(0,l._)("div",{class:"col s12 m3"},[(0,l._)("button",{class:"btn modal-trigger","data-target":"modalAddAccount"},[(0,l._)("i",{class:"material-icons right"},"add_circle_outline"),(0,l.Uk)(" Добавить ")])],-1))),p={key:0,class:"col s12 m2"},f=_((()=>(0,l._)("button",{class:"btn modal-trigger blue","data-target":"modalTransferBetweenAccounts"},[(0,l._)("i",{class:"material-icons right"},"swap_horiz"),(0,l.Uk)(" Перевод ")],-1))),D=[f],U={key:0},C={key:1},S={class:"card-panel"},A={class:"highlight centered responsive-table"},x=_((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Наименование"),(0,l._)("th",null,"Текущий баланс"),(0,l._)("th",null,"Баланс (все операции)"),(0,l._)("th",null,"В общем балансе"),(0,l._)("th",null,"Действия")])],-1))),z={key:0,class:"material-icons green-text"},B={key:1,class:"material-icons red-text"},J={class:"row mb-0 flex-center"},E={class:"col"},F=["id"],I=_((()=>(0,l._)("i",{class:"material-icons"},"edit",-1))),T=[I],H={class:"col"},N=["id"],Y=_((()=>(0,l._)("i",{class:"material-icons"},"delete",-1))),Z=[Y];var q=(0,l.aZ)({__name:"AccountsView",setup(t){const{totalBalance:e}=(0,u.Jk)((0,n.G)()),{accounts:a,selectedAccountId:_}=(0,u.Jk)((0,i.o)()),{currencyFilter:f}=(0,r.y)(),{isBaseReady:I,isAccountExist:Y}=(0,u.Jk)((0,o.e)()),{transactions:q}=(0,u.Jk)((0,d.C)()),G=(0,l.Fl)((()=>a.value?a.value.map((t=>{const e=q.value.filter((t=>t.isForecast)).filter((e=>e.accountId===t.id)).reduce(((t,e)=>"income"===e.type?(t+=+e.amount,t):"outcome"===e.type?(t-=+e.amount,t):t),0);return{...t,forecastSum:e}})):[])),K=t=>{let e;e="BUTTON"===t.target.tagName?t.target:t.target.parentElement,_.value=e.id};return(t,n)=>{const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[g,(0,c.SU)(I)?((0,l.wg)(),(0,l.iD)("div",v,[(0,l._)("div",h,[(0,l._)("div",b,[y,(0,c.SU)(a).length>1?((0,l.wg)(),(0,l.iD)("div",p,D)):(0,l.kq)("",!0)]),(0,c.SU)(Y)?((0,l.wg)(),(0,l.iD)("div",C,[(0,l._)("h4",null,"Общий текущий баланс: "+(0,s.zw)((0,c.SU)(f)((0,c.SU)(e))),1),(0,l._)("div",S,[(0,l._)("table",A,[x,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(G.value,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,s.zw)(t.name),1),(0,l._)("td",{class:(0,s.C_)({"red-text":t.balance<0})},(0,s.zw)((0,c.SU)(f)(t.balance)),3),(0,l._)("td",{class:(0,s.C_)({"red-text":t.balance<0})},(0,s.zw)((0,c.SU)(f)(t.balance+t.forecastSum)),3),(0,l._)("td",null,[t.isCountable?((0,l.wg)(),(0,l.iD)("i",z,"check")):((0,l.wg)(),(0,l.iD)("i",B,"block"))]),(0,l._)("td",null,[(0,l._)("div",J,[(0,l._)("div",E,[(0,l._)("a",{id:t.id,class:"yellow btn modal-trigger black-text","data-target":"modalEditAccount",onClick:K},T,8,F)]),(0,l._)("div",H,[(0,l._)("a",{id:t.id,class:"red btn modal-trigger","data-target":"modalDeleteAccount",onClick:K},Z,8,N)])])])])))),128))])])])])):((0,l.wg)(),(0,l.iD)("h4",U,"У Вас нет счетов. Создайте хотя бы один"))])])):((0,l.wg)(),(0,l.iD)("div",m,[(0,l._)("div",k,[w,(0,l._)("p",null,[(0,l.Uk)("Создайте свою базу или прикрепите существующую базу в "),(0,l.Wm)(i,{to:"/profile"},{default:(0,l.w5)((()=>[(0,l.Uk)("профиле")])),_:1})])])]))],64)}}}),G=a(89);const K=(0,G.Z)(q,[["__scopeId","data-v-3ea64e18"]]);var O=K}}]);
//# sourceMappingURL=524.06f9f289.js.map
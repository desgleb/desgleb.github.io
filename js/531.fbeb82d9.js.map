{"version":3,"file":"js/531.fbeb82d9.js","mappings":"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","sources":["webpack://money-catcher/./src/views/LoginView.vue?bb71","webpack://money-catcher/./src/views/LoginView.vue","webpack://money-catcher/./src/views/LoginView.vue?5755"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5b0d6252\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Войдите в приложение\", -1))\nconst _hoisted_2 = { class: \"form-wrapper z-depth-2 white row\" }\nconst _hoisted_3 = [\"onSubmit\"]\nconst _hoisted_4 = { class: \"row\" }\nconst _hoisted_5 = { class: \"input-field col s12\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"email\" }, \"Адрес электронной почты\", -1))\nconst _hoisted_7 = {\n  key: 0,\n  class: \"helper-text red-text\"\n}\nconst _hoisted_8 = { class: \"row\" }\nconst _hoisted_9 = { class: \"input-field col s12\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"password\" }, \"Пароль\", -1))\nconst _hoisted_11 = {\n  key: 0,\n  class: \"helper-text red-text\"\n}\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn col s12 m6 offset-m3 light-green darken-4\",\n  name: \"action\",\n  type: \"submit\"\n}, [\n  /*#__PURE__*/_createTextVNode(\"Войти \"),\n  /*#__PURE__*/_createElementVNode(\"i\", { class: \"material-icons right\" }, \"forward\")\n], -1))\nconst _hoisted_13 = { class: \"row\" }\nconst _hoisted_14 = { class: \"col s12 offset-m3 m6 center-align\" }\n\nimport { computed, reactive } from 'vue';\r\nimport { useVuelidate } from '@vuelidate/core';\r\nimport { required, helpers } from '@vuelidate/validators';\r\nimport { useAuthStore } from '@/stores/auth';\r\nimport Preloader from '@/components/Preloader.vue';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LoginView',\n  setup(__props) {\n\r\nconst authStore = useAuthStore();\r\n\r\nconst state = reactive({\r\n  email: '',\r\n  password: ''\r\n});\r\n\r\nconst rules = {\r\n  email: {\r\n    required: helpers.withMessage('Поле EMAIL является обязательным.', required)\r\n  },\r\n  password: {\r\n    required: helpers.withMessage('Поле PASSWORD является обязательным.', required)\r\n  }\r\n};\r\n\r\nconst v$ = useVuelidate(rules, state);\r\n\r\nconst isEmailRequiredInvalid = computed(() => {\r\n  return v$.value.email.$dirty && v$.value.email.required.$invalid;\r\n});\r\n\r\nconst isPasswordRequiredInvalid = computed(() => {\r\n  return v$.value.password.$dirty && v$.value.password.required.$invalid;\r\n});\r\n\r\nconst submitForm = async () => {\r\n  if (v$.value.$invalid) {\r\n    v$.value.$touch();\r\n    return;\r\n  }\r\n\r\n  interface FormData {\r\n    email: string,\r\n    password: string\r\n  }\r\n\r\n  const formData: FormData = {\r\n    email: state.email,\r\n    password: state.password\r\n  };\r\n\r\n  try {\r\n    await authStore.login(formData);\r\n  } catch (e) {\r\n  }\r\n\r\n};\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"form\", {\n        class: \"col s12\",\n        onSubmit: _withModifiers(submitForm, [\"prevent\"])\n      }, [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _withDirectives(_createElementVNode(\"input\", {\n              id: \"email\",\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((state.email) = $event)),\n              class: _normalizeClass({ invalid: isEmailRequiredInvalid.value }),\n              type: \"email\"\n            }, null, 2), [\n              [\n                _vModelText,\n                state.email,\n                void 0,\n                { trim: true }\n              ]\n            ]),\n            _hoisted_6,\n            (isEmailRequiredInvalid.value)\n              ? (_openBlock(), _createElementBlock(\"small\", _hoisted_7, _toDisplayString(_unref(v$).email.required.$message), 1))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"div\", _hoisted_9, [\n            _withDirectives(_createElementVNode(\"input\", {\n              id: \"password\",\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((state.password) = $event)),\n              class: _normalizeClass({ invalid: isPasswordRequiredInvalid.value }),\n              autocomplete: \"true\",\n              type: \"password\"\n            }, null, 2), [\n              [\n                _vModelText,\n                state.password,\n                void 0,\n                { trim: true }\n              ]\n            ]),\n            _hoisted_10,\n            (isPasswordRequiredInvalid.value)\n              ? (_openBlock(), _createElementBlock(\"small\", _hoisted_11, _toDisplayString(_unref(v$).password.required.$message), 1))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        _hoisted_12,\n        _createElementVNode(\"div\", _hoisted_13, [\n          _createElementVNode(\"div\", _hoisted_14, [\n            _createElementVNode(\"p\", null, [\n              _createTextVNode(\"У Вас нет учетной записи? \"),\n              _createVNode(_component_router_link, { to: \"/register\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Зарегистрироваться\")\n                ]),\n                _: 1\n              })\n            ])\n          ])\n        ])\n      ], 40, _hoisted_3)\n    ])\n  ], 64))\n}\n}\n\n})","<template>\r\n  <h3>Войдите в приложение</h3>\r\n  <div class=\"form-wrapper z-depth-2 white row\">\r\n    <form class=\"col s12\" @submit.prevent=\"submitForm\">\r\n      <div class=\"row\">\r\n        <div class=\"input-field col s12\">\r\n          <input id=\"email\"\r\n                 v-model.trim=\"state.email\"\r\n                 :class=\"{ invalid: isEmailRequiredInvalid }\"\r\n                 type=\"email\">\r\n          <label for=\"email\">Адрес электронной почты</label>\r\n          <!--suppress TypeScriptUnresolvedReference, JSUnresolvedReference -->\r\n          <small\r\n            v-if=\"isEmailRequiredInvalid\"\r\n            class=\"helper-text red-text\"\r\n          >{{ v$.email.required.$message }}</small>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"input-field col s12\">\r\n          <input\r\n            id=\"password\"\r\n            v-model.trim=\"state.password\"\r\n            :class=\"{ invalid: isPasswordRequiredInvalid }\" autocomplete=\"true\"\r\n            type=\"password\">\r\n          <label for=\"password\">Пароль</label>\r\n          <!--suppress TypeScriptUnresolvedReference, JSUnresolvedReference -->\r\n          <small\r\n            v-if=\"isPasswordRequiredInvalid\"\r\n            class=\"helper-text red-text\"\r\n          >{{ v$.password.required.$message }}</small>\r\n        </div>\r\n      </div>\r\n      <button class=\"btn col s12 m6 offset-m3 light-green darken-4\" name=\"action\" type=\"submit\">Войти\r\n        <i class=\"material-icons right\">forward</i>\r\n      </button>\r\n      <div class=\"row\">\r\n        <div class=\"col s12 offset-m3 m6 center-align\">\r\n          <p>У Вас нет учетной записи?\r\n            <router-link to=\"/register\">Зарегистрироваться</router-link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { computed, reactive } from 'vue';\r\nimport { useVuelidate } from '@vuelidate/core';\r\nimport { required, helpers } from '@vuelidate/validators';\r\nimport { useAuthStore } from '@/stores/auth';\r\nimport Preloader from '@/components/Preloader.vue';\r\n\r\nconst authStore = useAuthStore();\r\n\r\nconst state = reactive({\r\n  email: '',\r\n  password: ''\r\n});\r\n\r\nconst rules = {\r\n  email: {\r\n    required: helpers.withMessage('Поле EMAIL является обязательным.', required)\r\n  },\r\n  password: {\r\n    required: helpers.withMessage('Поле PASSWORD является обязательным.', required)\r\n  }\r\n};\r\n\r\nconst v$ = useVuelidate(rules, state);\r\n\r\nconst isEmailRequiredInvalid = computed(() => {\r\n  return v$.value.email.$dirty && v$.value.email.required.$invalid;\r\n});\r\n\r\nconst isPasswordRequiredInvalid = computed(() => {\r\n  return v$.value.password.$dirty && v$.value.password.required.$invalid;\r\n});\r\n\r\nconst submitForm = async () => {\r\n  if (v$.value.$invalid) {\r\n    v$.value.$touch();\r\n    return;\r\n  }\r\n\r\n  interface FormData {\r\n    email: string,\r\n    password: string\r\n  }\r\n\r\n  const formData: FormData = {\r\n    email: state.email,\r\n    password: state.password\r\n  };\r\n\r\n  try {\r\n    await authStore.login(formData);\r\n  } catch (e) {\r\n  }\r\n\r\n};\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.form-overlay {\r\n  height: calc(100vh - 64px);\r\n  padding-top: 100px;\r\n}\r\n\r\n.form-wrapper {\r\n  max-width: 600px;\r\n  border-radius: 16px;\r\n  padding: 32px;\r\n}\r\n</style>","import script from \"./LoginView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LoginView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=5b0d6252&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5b0d6252\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createElementVNode","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","for","_hoisted_7","key","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","name","type","_createTextVNode","_hoisted_13","_hoisted_14","_defineComponent","__name","setup","__props","authStore","useAuthStore","state","reactive","email","password","rules","required","helpers","withMessage","v$","useVuelidate","isEmailRequiredInvalid","computed","value","$dirty","$invalid","isPasswordRequiredInvalid","submitForm","async","$touch","formData","login","e","_ctx","_cache","_component_router_link","_resolveComponent","_openBlock","_createElementBlock","_Fragment","onSubmit","_withModifiers","_withDirectives","id","$event","_normalizeClass","invalid","_vModelText","trim","_toDisplayString","_unref","$message","_createCommentVNode","autocomplete","_createVNode","to","default","_withCtx","_","__exports__"],"sourceRoot":""}
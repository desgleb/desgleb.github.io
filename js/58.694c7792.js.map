{"version":3,"file":"js/58.694c7792.js","mappings":"2NAGA,MAAMA,GAA0BC,EAAAA,EAAAA,GAAoB,KAAM,KAAM,gBAAiB,GAC3EC,EAAa,CACjBC,IAAK,EACLC,MAAO,OAEHC,EAAa,CAAED,MAAO,OACtBE,GAA0BL,EAAAA,EAAAA,GAAoB,IAAK,KAAM,2CAA4C,GACrGM,EAAa,CACjBJ,IAAK,EACLC,MAAO,OAEHI,EAAa,CAAEJ,MAAO,OACtBK,EAAa,CAAC,YACdC,GAA0BT,EAAAA,EAAAA,GAAoB,IAAK,CAAEG,MAAO,wBAA0B,aAAc,GACpGO,GAA0BV,EAAAA,EAAAA,GAAoB,UAAW,KAAM,EACtDA,EAAAA,EAAAA,GAAoB,MAAO,KAAM,EAC/BA,EAAAA,EAAAA,GAAoB,IAAK,KAAM,EAC7BA,EAAAA,EAAAA,GAAoB,SAAU,KAAM,cACpCW,EAAAA,EAAAA,IAAiB,wBACjBX,EAAAA,EAAAA,GAAoB,QAAS,CAAEG,MAAO,YAAc,wBAEtDH,EAAAA,EAAAA,GAAoB,MAAO,CAAEG,MAAO,YAAc,EAChDH,EAAAA,EAAAA,GAAoB,MAAO,CACtCG,MAAO,cACPS,MAAO,CAAC,MAAQ,eAIpB,GASJ,OAA4BC,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,eACRC,KAAAA,CAAMC,GCIR,MAAM,iCAAEC,IAAqCC,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,OACnD,+BAAEC,IAAmCF,EAAAA,EAAAA,KAAYG,EAAAA,EAAAA,OAE/BC,EAAAA,EAAAA,KAAS,IACxBL,EAAiCM,MAAMC,KAAKC,IACjD,MAAMC,EAAQN,EAA+BG,MAC1CI,QAAQC,GAAOA,EAAGC,aAAeJ,EAAIK,KACrCC,QAAO,CAACC,EAAOC,IACPC,QAAQF,IAAUC,EAAOE,QAAQC,QAAQ,KAC/C,GAEL,MAAO,IACFX,EACHC,QACD,MDGL,MAAO,CAACW,EAAUC,KAChB,MAAMC,GAAyBC,EAAAA,EAAAA,IAAkB,eAEjD,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,KAAM,CACzD5C,EACqD,KAApD6C,EAAAA,EAAAA,IAAO3B,GAAkC4B,SACrCJ,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOzC,EAAY,EACpDD,EAAAA,EAAAA,GAAoB,MAAOI,EAAY,CACrCC,GACAL,EAAAA,EAAAA,GAAoB,IAAK,KAAM,EAC7BW,EAAAA,EAAAA,IAAiB,qCACjBmC,EAAAA,EAAAA,IAAaP,EAAwB,CAAEQ,GAAI,eAAiB,CAC1DC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBtC,EAAAA,EAAAA,IAAiB,gBAEnBuC,EAAG,aAKVT,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOpC,EAAY,EACpDN,EAAAA,EAAAA,GAAoB,MAAOO,EAAY,EACrCP,EAAAA,EAAAA,GAAoB,SAAU,CAC5BmD,SAA8D,KAApDP,EAAAA,EAAAA,IAAO3B,GAAkC4B,OACnD1C,MAAO,oBACP,cAAe,iBACd,CACDM,GACAE,EAAAA,EAAAA,IAAiB,uBAChB,EAAGH,QAGdE,GACC,GAAG,CAER,IE/FA,MAAM0C,EAAc,EAEpB,O","sources":["webpack://money-catcher/./src/views/PlanningView.vue?8a4b","webpack://money-catcher/./src/views/PlanningView.vue","webpack://money-catcher/./src/views/PlanningView.vue?9fd6"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Планирование\", -1)\nconst _hoisted_2 = {\n  key: 0,\n  class: \"row\"\n}\nconst _hoisted_3 = { class: \"col\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"p\", null, \"У Вас нет ни одной расходной категории.\", -1)\nconst _hoisted_5 = {\n  key: 1,\n  class: \"row\"\n}\nconst _hoisted_6 = { class: \"col\" }\nconst _hoisted_7 = [\"disabled\"]\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"i\", { class: \"material-icons right\" }, \"calculate\", -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"section\", null, [\n  /*#__PURE__*/_createElementVNode(\"div\", null, [\n    /*#__PURE__*/_createElementVNode(\"p\", null, [\n      /*#__PURE__*/_createElementVNode(\"strong\", null, \"CAT TITLE\"),\n      /*#__PURE__*/_createTextVNode(\" 50 000 из 100 000 \"),\n      /*#__PURE__*/_createElementVNode(\"small\", { class: \"red-text\" }, \"Перерасход на 700\")\n    ]),\n    /*#__PURE__*/_createElementVNode(\"div\", { class: \"progress\" }, [\n      /*#__PURE__*/_createElementVNode(\"div\", {\n        class: \"determinate\",\n        style: {\"width\":\"70%\"}\n      })\n    ])\n  ])\n], -1)\n\nimport { storeToRefs } from 'pinia';\r\nimport { useCategoriesStore } from '@/stores/categories';\r\nimport { useTransactionsStore } from '@/stores/transactions';\r\nimport { usePlanningStore } from '@/stores/limits';\r\nimport { computed } from 'vue';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PlanningView',\n  setup(__props) {\n\r\nconst { categoriesAvailableForLimitation } = storeToRefs(useCategoriesStore());\r\nconst { outcomeTransactionsInThisMonth } = storeToRefs(useTransactionsStore());\r\n\r\nconst limitCategories = computed(() => {\r\n  return categoriesAvailableForLimitation.value.map((cat) => {\r\n    const spend = outcomeTransactionsInThisMonth.value\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .reduce((total, record): number => {\r\n        return Number((total += +record.amount).toFixed(2));\r\n      }, 0);\r\n\r\n    return {\r\n      ...cat,\r\n      spend\r\n    };\r\n  });\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    (_unref(categoriesAvailableForLimitation).length === 0)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _hoisted_4,\n            _createElementVNode(\"p\", null, [\n              _createTextVNode(\"Добавьте хотя бы одну расходную \"),\n              _createVNode(_component_router_link, { to: \"/categories\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"категорию\")\n                ]),\n                _: 1\n              })\n            ])\n          ])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"button\", {\n              disabled: _unref(categoriesAvailableForLimitation).length === 0,\n              class: \"btn modal-trigger\",\n              \"data-target\": \"modalSetLimit\"\n            }, [\n              _hoisted_8,\n              _createTextVNode(\" Установить лимит \")\n            ], 8, _hoisted_7)\n          ])\n        ])),\n    _hoisted_9\n  ], 64))\n}\n}\n\n})","<template>\r\n  <h3>Планирование</h3>\r\n  <div v-if=\"categoriesAvailableForLimitation.length === 0\" class=\"row\">\r\n    <div class=\"col\">\r\n      <p>У Вас нет ни одной расходной категории.</p>\r\n      <p>Добавьте хотя бы одну расходную\r\n        <router-link to=\"/categories\">категорию</router-link>\r\n      </p>\r\n    </div>\r\n  </div>\r\n  <div v-else class=\"row\">\r\n    <div class=\"col\">\r\n      <button\r\n        :disabled=\"categoriesAvailableForLimitation.length === 0\"\r\n        class=\"btn modal-trigger\"\r\n        data-target=\"modalSetLimit\">\r\n        <i class=\"material-icons right\">calculate</i>\r\n        Установить лимит\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <section>\r\n    <div>\r\n      <p>\r\n        <strong>CAT TITLE</strong>\r\n        50 000 из 100 000\r\n        <small class=\"red-text\">Перерасход на 700</small>\r\n      </p>\r\n      <div class=\"progress\">\r\n        <div\r\n          class=\"determinate\"\r\n          style=\"width: 70%\"></div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { storeToRefs } from 'pinia';\r\nimport { useCategoriesStore } from '@/stores/categories';\r\nimport { useTransactionsStore } from '@/stores/transactions';\r\nimport { usePlanningStore } from '@/stores/limits';\r\nimport { computed } from 'vue';\r\n\r\nconst { categoriesAvailableForLimitation } = storeToRefs(useCategoriesStore());\r\nconst { outcomeTransactionsInThisMonth } = storeToRefs(useTransactionsStore());\r\n\r\nconst limitCategories = computed(() => {\r\n  return categoriesAvailableForLimitation.value.map((cat) => {\r\n    const spend = outcomeTransactionsInThisMonth.value\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .reduce((total, record): number => {\r\n        return Number((total += +record.amount).toFixed(2));\r\n      }, 0);\r\n\r\n    return {\r\n      ...cat,\r\n      spend\r\n    };\r\n  });\r\n});\r\n\r\n</script>","import script from \"./PlanningView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PlanningView.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","_createElementVNode","_hoisted_2","key","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createTextVNode","style","_defineComponent","__name","setup","__props","categoriesAvailableForLimitation","storeToRefs","useCategoriesStore","outcomeTransactionsInThisMonth","useTransactionsStore","computed","value","map","cat","spend","filter","tr","categoryId","id","reduce","total","record","Number","amount","toFixed","_ctx","_cache","_component_router_link","_resolveComponent","_openBlock","_createElementBlock","_Fragment","_unref","length","_createVNode","to","default","_withCtx","_","disabled","__exports__"],"sourceRoot":""}
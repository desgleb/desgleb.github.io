"use strict";(self["webpackChunkmoney_catcher"]=self["webpackChunkmoney_catcher"]||[]).push([[510],{6510:function(t,e,l){l.r(e),l.d(e,{default:function(){return R}});var a=l(3396),c=l(4870),s=l(7139),n=l(6175),i=l(8263),r=l(3256),o=l(3060),d=l(9545),u=l(1020);const _=t=>((0,a.dD)("data-v-4a2fe136"),t=t(),(0,a.Cn)(),t),g=_((()=>(0,a._)("h3",null,"Ваши счета",-1))),m=_((()=>(0,a._)("hr",null,null,-1))),k={key:0,class:"row"},w={class:"col"},h=_((()=>(0,a._)("p",null,"У вас не прикреплена база.",-1))),v={key:1,class:"row"},b={class:"col s12"},y={class:"row"},f=_((()=>(0,a._)("div",{class:"col s12 m3"},[(0,a._)("button",{class:"btn modal-trigger","data-target":"modalAddAccount"},[(0,a._)("i",{class:"material-icons right"},"add_circle_outline"),(0,a.Uk)(" Добавить ")])],-1))),p={key:0,class:"col s12 m2"},D=_((()=>(0,a._)("button",{class:"btn modal-trigger blue","data-target":"modalTransferBetweenAccounts"},[(0,a._)("i",{class:"material-icons right"},"swap_horiz"),(0,a.Uk)(" Перевод ")],-1))),U=[D],C={key:0},S={key:1},A={class:"row"},x={class:"highlight centered responsive-table"},z=_((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Наименование"),(0,a._)("th",null,"Текущий баланс"),(0,a._)("th",null,"Баланс (все операции)"),(0,a._)("th",null,"В общем балансе"),(0,a._)("th",null,"Действия")])],-1))),B={key:0,class:"material-icons green-text"},J={key:1,class:"material-icons red-text"},E={class:"row mb-0 flex-center"},F={class:"col"},I=["id"],T=_((()=>(0,a._)("i",{class:"material-icons"},"edit",-1))),H=[T],N={class:"col"},Y=["id"],Z=_((()=>(0,a._)("i",{class:"material-icons"},"delete",-1))),q=[Z];var G=(0,a.aZ)({__name:"AccountsView",setup(t){const{totalBalance:e}=(0,u.Jk)((0,n.G)()),{accounts:l,selectedAccountId:_}=(0,u.Jk)((0,i.o)()),{currencyFilter:D}=(0,r.y)(),{isBaseReady:T,isAccountExist:Z}=(0,u.Jk)((0,o.e)()),{transactions:G}=(0,u.Jk)((0,d.C)()),K=(0,a.Fl)((()=>l.value?l.value.map((t=>{const e=G.value.filter((t=>t.isForecast)).filter((e=>e.accountId===t.id)).reduce(((t,e)=>"income"===e.type?(t+=+e.amount,t):"outcome"===e.type?(t-=+e.amount,t):t),0);return{...t,forecastSum:e}})):[])),O=t=>{let e;e="BUTTON"===t.target.tagName?t.target:t.target.parentElement,_.value=e.id};return(t,n)=>{const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[g,m,(0,c.SU)(T)?((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",b,[(0,a._)("div",y,[f,(0,c.SU)(l).length>1?((0,a.wg)(),(0,a.iD)("div",p,U)):(0,a.kq)("",!0)]),(0,c.SU)(Z)?((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("h4",null,"Общий текущий баланс: "+(0,s.zw)((0,c.SU)(D)((0,c.SU)(e))),1),(0,a._)("div",A,[(0,a._)("table",x,[z,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(K.value,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",null,(0,s.zw)(t.name),1),(0,a._)("td",{class:(0,s.C_)({"red-text":t.balance<0})},(0,s.zw)((0,c.SU)(D)(t.balance)),3),(0,a._)("td",{class:(0,s.C_)({"red-text":t.balance<0})},(0,s.zw)((0,c.SU)(D)(t.balance+t.forecastSum)),3),(0,a._)("td",null,[t.isCountable?((0,a.wg)(),(0,a.iD)("i",B,"check")):((0,a.wg)(),(0,a.iD)("i",J,"block"))]),(0,a._)("td",null,[(0,a._)("div",E,[(0,a._)("div",F,[(0,a._)("a",{id:t.id,class:"yellow btn modal-trigger black-text","data-target":"modalEditAccount",onClick:O},H,8,I)]),(0,a._)("div",N,[(0,a._)("a",{id:t.id,class:"red btn modal-trigger","data-target":"modalDeleteAccount",onClick:O},q,8,Y)])])])])))),128))])])])])):((0,a.wg)(),(0,a.iD)("h4",C,"У Вас нет счетов. Создайте хотя бы один"))])])):((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("div",w,[h,(0,a._)("p",null,[(0,a.Uk)("Создайте свою базу или прикрепите существующую базу в "),(0,a.Wm)(i,{to:"/profile"},{default:(0,a.w5)((()=>[(0,a.Uk)("профиле")])),_:1})])])]))],64)}}}),K=l(89);const O=(0,K.Z)(G,[["__scopeId","data-v-4a2fe136"]]);var R=O}}]);
//# sourceMappingURL=510.dc2ae0a1.js.map
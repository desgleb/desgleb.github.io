"use strict";(self["webpackChunkmoney_catcher"]=self["webpackChunkmoney_catcher"]||[]).push([[108],{4108:function(t,l,e){e.r(l),e.d(l,{default:function(){return R}});var a=e(3396),c=e(4870),s=e(7139),n=e(8263),i=e(3256),r=e(3060),o=e(9545),d=e(1020);const u=t=>((0,a.dD)("data-v-4e2329b9"),t=t(),(0,a.Cn)(),t),_=u((()=>(0,a._)("h3",null,"Ваши счета",-1))),g=u((()=>(0,a._)("hr",null,null,-1))),m={key:0,class:"row"},k={class:"col"},w=u((()=>(0,a._)("p",null,"У вас не прикреплена база.",-1))),h={key:1,class:"row"},v={class:"col s12"},b={class:"row"},y=u((()=>(0,a._)("div",{class:"col s12 m3"},[(0,a._)("button",{class:"btn modal-trigger","data-target":"modalAddAccount"},[(0,a._)("i",{class:"material-icons right"},"add_circle_outline"),(0,a.Uk)(" Добавить ")])],-1))),p={key:0,class:"col s12 m3"},f=u((()=>(0,a._)("button",{class:"btn modal-trigger blue","data-target":"modalTransferBetweenAccounts"},[(0,a._)("i",{class:"material-icons right"},"swap_horiz"),(0,a.Uk)(" Перевод ")],-1))),D=[f],U={key:0},S={key:1},A={class:"row"},C={class:"highlight centered responsive-table"},x=u((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Наименование"),(0,a._)("th",null,"Текущий баланс"),(0,a._)("th",null,"Баланс (все операции)"),(0,a._)("th",null,"В общем балансе"),(0,a._)("th",null,"Действия")])],-1))),z={key:0,class:"material-icons green-text"},B={key:1,class:"material-icons red-text"},E={class:"row mb-0 flex-center"},F={class:"col"},I=["id"],J=u((()=>(0,a._)("i",{class:"material-icons"},"edit",-1))),T=[J],H={class:"col"},N=["id"],Y=u((()=>(0,a._)("i",{class:"material-icons"},"delete",-1))),Z=[Y];var q=(0,a.aZ)({__name:"AccountsView",setup(t){const{accounts:l,selectedAccountId:e,allAccountsSum:u}=(0,d.Jk)((0,n.o)()),{currencyFilter:f}=(0,i.y)(),{isBaseReady:J,isAccountExist:Y}=(0,d.Jk)((0,r.e)()),{transactions:q}=(0,d.Jk)((0,o.C)()),K=(0,a.Fl)((()=>l.value?l.value.map((t=>{const l=q.value.filter((t=>t.isForecast)).filter((l=>l.accountId===t.id)).reduce(((t,l)=>"income"===l.type?(t+=+l.amount,t):"outcome"===l.type?(t-=+l.amount,t):t),0);return{...t,forecastSum:l}})):[])),O=t=>{let l;l="BUTTON"===t.target.tagName?t.target:t.target.parentElement,e.value=l.id};return(t,e)=>{const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[_,g,(0,c.SU)(J)?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",v,[(0,a._)("div",b,[y,(0,c.SU)(l).length>1?((0,a.wg)(),(0,a.iD)("div",p,D)):(0,a.kq)("",!0)]),(0,c.SU)(Y)?((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("h4",null,"Общий текущий баланс: "+(0,s.zw)((0,c.SU)(f)((0,c.SU)(u))),1),(0,a._)("div",A,[(0,a._)("table",C,[x,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(K.value,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",null,(0,s.zw)(t.name),1),(0,a._)("td",{class:(0,s.C_)({"red-text":t.balance<0})},(0,s.zw)((0,c.SU)(f)(t.balance)),3),(0,a._)("td",{class:(0,s.C_)({"red-text":t.balance<0})},(0,s.zw)((0,c.SU)(f)(t.balance+t.forecastSum)),3),(0,a._)("td",null,[t.isCountable?((0,a.wg)(),(0,a.iD)("i",z,"check")):((0,a.wg)(),(0,a.iD)("i",B,"block"))]),(0,a._)("td",null,[(0,a._)("div",E,[(0,a._)("div",F,[(0,a._)("a",{id:t.id,class:"yellow btn modal-trigger black-text","data-target":"modalEditAccount",onClick:O},T,8,I)]),(0,a._)("div",H,[(0,a._)("a",{id:t.id,class:"red btn modal-trigger","data-target":"modalDeleteAccount",onClick:O},Z,8,N)])])])])))),128))])])])])):((0,a.wg)(),(0,a.iD)("h4",U,"У Вас нет счетов. Создайте хотя бы один"))])])):((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",k,[w,(0,a._)("p",null,[(0,a.Uk)("Создайте свою базу или прикрепите существующую базу в "),(0,a.Wm)(n,{to:"/profile"},{default:(0,a.w5)((()=>[(0,a.Uk)("профиле")])),_:1})])])]))],64)}}}),K=e(89);const O=(0,K.Z)(q,[["__scopeId","data-v-4e2329b9"]]);var R=O}}]);
//# sourceMappingURL=108.97f0e220.js.map
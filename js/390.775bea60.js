"use strict";(self["webpackChunkmoney_catcher"]=self["webpackChunkmoney_catcher"]||[]).push([[390],{5509:function(e,t,l){l.d(t,{$:function(){return a}});const a=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]},24:function(e,t,l){l.d(t,{A:function(){return h}});var a=l(6768),n=l(144),r=l(4232),s=l(5130),o=l(6995),c=l(3367),u=l(5509),i=l(8078);const d={class:"input-field"},v={key:0,selected:"",value:"12"},k=["value"],L=(0,a.Lk)("label",null,"Месяц",-1);var p=(0,a.pM)({__name:"MonthSelectComponent",props:{showAll:{type:Boolean}},setup(e){const{transactionsMonthFilter:t}=(0,c.bP)((0,o.G)()),{selectedCategoryId:l}=(0,c.bP)((0,i.d)()),p=(0,n.KR)(),m=(0,n.KR)();return(0,a.sV)((()=>{m.value=M.FormSelect.init(p.value)})),(0,a.$u)((()=>{l.value=""})),(e,l)=>((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bo)((0,a.Lk)("select",{ref_key:"monthSelect",ref:p,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,n.i9)(t)?t.value=e:null)},[e.$props.showAll?((0,a.uX)(),(0,a.CE)("option",v,"Показать всё")):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,n.R1)(u.$),((e,t)=>((0,a.uX)(),(0,a.CE)("option",{key:t,value:t},(0,r.v_)(e),9,k)))),128))],512),[[s.u1,(0,n.R1)(t),void 0,{number:!0}]]),L]))}});const m=p;var h=m},2122:function(e,t,l){l.d(t,{A:function(){return m}});l(4114);var a=l(6768),n=l(144),r=l(4232),s=l(5130),o=l(6995),c=l(3367),u=l(2132),i=l(8078);const d={class:"input-field"},v=["value"],k=(0,a.Lk)("label",null,"Год",-1);var L=(0,a.pM)({__name:"YearSelectComponent",setup(e){const{transactions:t,transactionsYearFilter:l}=(0,c.bP)((0,o.G)()),{selectedCategoryId:L}=(0,c.bP)((0,i.d)()),{isGlobalLoading:p}=(0,c.bP)((0,u.X)());p.value=!0;const m=(0,n.KR)(),h=(0,n.KR)(),g=(0,a.EW)((()=>{const e=[],l=new Set;l.add((new Date).getFullYear()),t.value.forEach((e=>{const t=new Date(e.date).getFullYear();l.add(t)}));const a=Math.max.apply(null,Array.from(l))+1;l.add(a);const n=Array.from(l).sort(((e,t)=>e-t));return n.forEach((t=>{const l={year:t,id:Math.floor(1e6*Math.random())};e.push(l)})),p.value=!1,e}));return(0,a.sV)((()=>{h.value=M.FormSelect.init(m.value)})),(0,a.$u)((()=>{L.value="",h.value=M.FormSelect.init(m.value)})),(e,t)=>((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bo)((0,a.Lk)("select",{ref_key:"yearSelect",ref:m,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,n.i9)(l)?l.value=e:null)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(g.value,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.year},(0,r.v_)(e.year),9,v)))),128))],512),[[s.u1,(0,n.R1)(l),void 0,{number:!0}]]),k]))}});const p=L;var m=p},7390:function(e,t,l){l.r(t),l.d(t,{default:function(){return B}});var a=l(6768),n=l(144),r=l(4232),s=l(5130),o=l(6459),c=l(6995),u=l(2132),i=l(3367),d=l(24),v=l(2122);const k=e=>((0,a.Qi)("data-v-dac82ecc"),e=e(),(0,a.jt)(),e),L=k((()=>(0,a.Lk)("div",{class:"container"},[(0,a.Lk)("h3",null,"Операции")],-1))),p=k((()=>(0,a.Lk)("hr",null,null,-1))),m={key:0,class:"row"},h={class:"col"},g=k((()=>(0,a.Lk)("p",null,"У вас нет ни одной категории.",-1))),y={key:1,class:"row"},b=k((()=>(0,a.Lk)("div",{class:"col"},[(0,a.Lk)("p",null,"У вас нет ни одной операции."),(0,a.Lk)("p",null,"Создайте хотя бы одну операцию."),(0,a.Lk)("p",null,'Для этого нажмите красную кнопку с "+" в нижнем правом углу экрана.')],-1))),f=[b],C={key:2,class:"row"},E={class:"row"},_=k((()=>(0,a.Lk)("label",{for:"recordsDayFilter",class:"active"},"День",-1))),F=["max"],w={class:"col s12 m1"},X={class:"col s12 m1"},x={class:"row table-scrollable"},A={class:"highlight centered responsive-table"},R=k((()=>(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{class:"green lighten-5"},"Дата"),(0,a.Lk)("th",{class:"green lighten-5"},"Тип"),(0,a.Lk)("th",{class:"green lighten-5"},"Статус"),(0,a.Lk)("th",{class:"green lighten-5"},"Счёт"),(0,a.Lk)("th",{class:"green lighten-5"},"Категория"),(0,a.Lk)("th",{class:"green lighten-5"},"Сумма"),(0,a.Lk)("th",{class:"green lighten-5 fixed-width"},"Комментарий"),(0,a.Lk)("th",{class:"green lighten-5"},"Автор"),(0,a.Lk)("th",{class:"green lighten-5"},"Действия")])],-1))),M={key:0,class:"material-icons red-text"},D={key:1,class:"material-icons blue-text"},K={class:"row mb-0 flex-center"},S={key:0,class:"col"},I=["id","data-target"],P=k((()=>(0,a.Lk)("i",{class:"material-icons"},"edit",-1))),T=[P],V={class:"col"},$=["id"],G=k((()=>(0,a.Lk)("i",{class:"material-icons"},"delete",-1))),Q=[G];var U=(0,a.pM)({__name:"RecordsView",setup(e){const{currencyFilter:t,dateFilter:l}=(0,o.c)(),{selectedTransactionId:k,transactionsSortedByDate:b,daysInMonth:P}=(0,i.bP)((0,c.G)()),{isCategoryExist:G,isTransactionExist:U}=(0,i.bP)((0,u.X)()),W=(0,n.KR)((new Date).getDate()),Y=(0,a.EW)((()=>W.value?W.value>P.value||W.value<1?(W.value=null,b.value.sort(((e,t)=>t.createdAt-e.createdAt)).sort(((e,t)=>t.date-e.date))):b.value.filter((e=>new Date(e.date).getDate()===W.value)).sort(((e,t)=>t.createdAt-e.createdAt)).sort(((e,t)=>t.date-e.date)):(W.value=null,b.value.sort(((e,t)=>t.createdAt-e.createdAt)).sort(((e,t)=>t.date-e.date))))),B=e=>{let t;t="BUTTON"===e.target.tagName?e.target:e.target.parentElement,k.value=t.id};return(e,o)=>{const c=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[L,p,(0,n.R1)(G)?(0,n.R1)(U)?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("div",E,[(0,a.Lk)("div",{class:(0,r.C4)(["col s12 m1 offset-m9 input-field",{"red-text":W.value&&(W.value>(0,n.R1)(P)||W.value<1)}])},[_,(0,a.bo)((0,a.Lk)("input",{id:"recordsDayFilter","onUpdate:modelValue":o[0]||(o[0]=e=>W.value=e),type:"number",min:"1",max:(0,n.R1)(P)},null,8,F),[[s.Jo,W.value,void 0,{number:!0}]])],2),(0,a.Lk)("div",w,[(0,a.bF)(d.A,{"show-all":!0})]),(0,a.Lk)("div",X,[(0,a.bF)(v.A)])]),(0,a.Lk)("div",x,[(0,a.Lk)("table",A,[R,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Y.value,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:(0,r.C4)({"grey-text":e.isForecast})},[(0,a.Lk)("td",null,(0,r.v_)((0,n.R1)(l)(e.date)),1),(0,a.Lk)("td",{class:(0,r.C4)({"red-text":"outcome"===e.type,"green-text":"income"===e.type,"blue-text":"transfer"===e.type})},(0,r.v_)("outcome"===e.type?"Расход":"income"===e.type?"Доход":"Перевод"),3),(0,a.Lk)("td",null,[e.isNotPlanned?((0,a.uX)(),(0,a.CE)("i",M,"error")):e.isForecast?((0,a.uX)(),(0,a.CE)("i",D,"help")):(0,a.Q3)("",!0)]),(0,a.Lk)("td",null,(0,r.v_)(e.account),1),(0,a.Lk)("td",null,(0,r.v_)(e.category),1),(0,a.Lk)("td",null,(0,r.v_)((0,n.R1)(t)(e.amount)),1),(0,a.Lk)("td",null,(0,r.v_)(e.description),1),(0,a.Lk)("td",null,(0,r.v_)(e.author),1),(0,a.Lk)("td",null,[(0,a.Lk)("div",K,[e.readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("button",{id:e.id,"data-target":"transfer"===e.type?"modalEditTransfer":"modalEditTransaction",class:"yellow btn modal-trigger black-text",onClick:B},T,8,I)])),(0,a.Lk)("div",V,[(0,a.Lk)("button",{id:e.id,class:"red modal-trigger btn","data-target":"modalDeleteTransaction",onClick:B},Q,8,$)])])])],2)))),128))])])])])):((0,a.uX)(),(0,a.CE)("div",y,f)):((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",h,[g,(0,a.Lk)("p",null,[(0,a.eW)("Создайте хотя бы одну "),(0,a.bF)(c,{to:"/categories"},{default:(0,a.k6)((()=>[(0,a.eW)("категорию")])),_:1})])])]))],64)}}}),W=l(1241);const Y=(0,W.A)(U,[["__scopeId","data-v-dac82ecc"]]);var B=Y}}]);
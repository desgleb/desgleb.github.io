{"version":3,"file":"js/685.4e212e96.js","mappings":"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","sources":["webpack://money-catcher/./src/components/MonthSelectComponent.vue?d0d8","webpack://money-catcher/./src/components/MonthSelectComponent.vue","webpack://money-catcher/./src/components/MonthSelectComponent.vue?e854","webpack://money-catcher/./src/components/YearSelectComponent.vue?ca55","webpack://money-catcher/./src/components/YearSelectComponent.vue","webpack://money-catcher/./src/components/YearSelectComponent.vue?1c0b","webpack://money-catcher/./src/components/CalendarDayCardComponent.vue?03a3","webpack://money-catcher/./src/components/CalendarDayCardComponent.vue","webpack://money-catcher/./src/components/CalendarDayCardComponent.vue?7a92","webpack://money-catcher/./src/components/CalendarGridComponent.vue?9817","webpack://money-catcher/./src/components/CalendarGridComponent.vue","webpack://money-catcher/./src/components/CalendarGridComponent.vue?d8e0","webpack://money-catcher/./src/views/CalendarView.vue?ce2d","webpack://money-catcher/./src/views/CalendarView.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, isRef as _isRef, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"input-field\" }\nconst _hoisted_2 = {\n  key: 0,\n  selected: \"\",\n  value: \"12\"\n}\nconst _hoisted_3 = [\"value\"]\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Фильтрация по месяцам\", -1)\n\nimport { onMounted, ref } from 'vue';\r\nimport { useTransactionsStore } from '@/stores/transactions';\r\nimport { storeToRefs } from 'pinia';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MonthSelectComponent',\n  props: {\n    showAll: { type: Boolean }\n  },\n  setup(__props: any) {\n\r\n\r\n\r\nconst { transactionsMonthFilter } = storeToRefs(useTransactionsStore());\r\n\r\nconst monthSelect = ref();\r\nconst monthSelectInstance = ref();\r\n\r\nconst monthsArray: string[] = [ 'Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь' ];\r\n\r\nonMounted(() => {\r\n  monthSelectInstance.value = M.FormSelect.init(monthSelect.value);\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"select\", {\n      ref_key: \"monthSelect\",\n      ref: monthSelect,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(transactionsMonthFilter) ? (transactionsMonthFilter).value = $event : null))\n    }, [\n      (_ctx.$props.showAll)\n        ? (_openBlock(), _createElementBlock(\"option\", _hoisted_2, \"Показать всё\"))\n        : _createCommentVNode(\"\", true),\n      (_openBlock(), _createElementBlock(_Fragment, null, _renderList(monthsArray, (month, index) => {\n        return _createElementVNode(\"option\", {\n          key: index,\n          value: index\n        }, _toDisplayString(month), 9, _hoisted_3)\n      }), 64))\n    ], 512), [\n      [\n        _vModelSelect,\n        _unref(transactionsMonthFilter),\n        void 0,\n        { number: true }\n      ]\n    ]),\n    _hoisted_4\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"input-field\">\r\n    <select ref=\"monthSelect\" v-model.number=\"transactionsMonthFilter\">\r\n      <option v-if=\"$props.showAll\" selected value=\"12\">Показать всё</option>\r\n      <option v-for=\"(month, index) in monthsArray\" :key=\"index\" :value=\"index\">{{ month }}</option>\r\n    </select>\r\n    <label>Фильтрация по месяцам</label>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { onMounted, ref } from 'vue';\r\nimport { useTransactionsStore } from '@/stores/transactions';\r\nimport { storeToRefs } from 'pinia';\r\n\r\ndefineProps<{\r\n  showAll: boolean\r\n}>();\r\n\r\nconst { transactionsMonthFilter } = storeToRefs(useTransactionsStore());\r\n\r\nconst monthSelect = ref();\r\nconst monthSelectInstance = ref();\r\n\r\nconst monthsArray: string[] = [ 'Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь' ];\r\n\r\nonMounted(() => {\r\n  monthSelectInstance.value = M.FormSelect.init(monthSelect.value);\r\n});\r\n</script>","import script from \"./MonthSelectComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MonthSelectComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, isRef as _isRef, vModelSelect as _vModelSelect, createElementVNode as _createElementVNode, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"input-field\" }\nconst _hoisted_2 = [\"value\"]\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Фильтрация по годам\", -1)\n\nimport { computed, ComputedRef, onMounted, onUpdated, ref } from 'vue';\r\nimport { Transaction, useTransactionsStore } from '@/stores/transactions';\r\nimport { storeToRefs } from 'pinia';\r\nimport { useStatusStore } from '@/stores/status';\r\n\r\ninterface Year {\r\n  year: number,\r\n  id: number\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'YearSelectComponent',\n  setup(__props) {\n\r\nconst { transactions, transactionsYearFilter } = storeToRefs(useTransactionsStore());\r\nconst { isGlobalLoading } = storeToRefs(useStatusStore());\r\nisGlobalLoading.value = true;\r\n\r\nconst yearSelect = ref();\r\nconst yearSelectInstance = ref();\r\n\r\nconst yearsSelectArray: ComputedRef<Year[]> = computed(() => {\r\n  const years: Year[] = [];\r\n  const yearsSet: Set<number> = new Set();\r\n  yearsSet.add(new Date().getFullYear());\r\n  transactions.value.forEach((tr: Transaction) => {\r\n    const trYear: number = new Date(tr.date).getFullYear();\r\n    yearsSet.add(trYear);\r\n  });\r\n  const maxYear: number = Math.max.apply(null, Array.from(yearsSet)) + 1;\r\n  yearsSet.add(maxYear);\r\n  const yearsArray = Array.from(yearsSet).sort((a, b) => a - b);\r\n  yearsArray.forEach((year) => {\r\n    const newYear: Year = { year: year, id: Math.floor((Math.random() * 1000000)) };\r\n    years.push(newYear);\r\n  });\r\n  isGlobalLoading.value = false;\r\n  return years;\r\n});\r\n\r\nonMounted(() => {\r\n  yearSelectInstance.value = M.FormSelect.init(yearSelect.value);\r\n});\r\n\r\nonUpdated(() => {\r\n  yearSelectInstance.value = M.FormSelect.init(yearSelect.value);\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"select\", {\n      ref_key: \"yearSelect\",\n      ref: yearSelect,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(transactionsYearFilter) ? (transactionsYearFilter).value = $event : null))\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(yearsSelectArray.value, (item) => {\n        return (_openBlock(), _createElementBlock(\"option\", {\n          key: item.id,\n          value: item.year\n        }, _toDisplayString(item.year), 9, _hoisted_2))\n      }), 128))\n    ], 512), [\n      [\n        _vModelSelect,\n        _unref(transactionsYearFilter),\n        void 0,\n        { number: true }\n      ]\n    ]),\n    _hoisted_3\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"input-field\">\r\n    <select ref=\"yearSelect\" v-model.number=\"transactionsYearFilter\">\r\n      <option v-for=\"item in yearsSelectArray\" :key=\"item.id\" :value=\"item.year\">{{ item.year }}</option>\r\n    </select>\r\n    <label>Фильтрация по годам</label>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed, ComputedRef, onMounted, onUpdated, ref } from 'vue';\r\nimport { Transaction, useTransactionsStore } from '@/stores/transactions';\r\nimport { storeToRefs } from 'pinia';\r\nimport { useStatusStore } from '@/stores/status';\r\n\r\nconst { transactions, transactionsYearFilter } = storeToRefs(useTransactionsStore());\r\nconst { isGlobalLoading } = storeToRefs(useStatusStore());\r\nisGlobalLoading.value = true;\r\n\r\nconst yearSelect = ref();\r\nconst yearSelectInstance = ref();\r\n\r\ninterface Year {\r\n  year: number,\r\n  id: number\r\n}\r\n\r\nconst yearsSelectArray: ComputedRef<Year[]> = computed(() => {\r\n  const years: Year[] = [];\r\n  const yearsSet: Set<number> = new Set();\r\n  yearsSet.add(new Date().getFullYear());\r\n  transactions.value.forEach((tr: Transaction) => {\r\n    const trYear: number = new Date(tr.date).getFullYear();\r\n    yearsSet.add(trYear);\r\n  });\r\n  const maxYear: number = Math.max.apply(null, Array.from(yearsSet)) + 1;\r\n  yearsSet.add(maxYear);\r\n  const yearsArray = Array.from(yearsSet).sort((a, b) => a - b);\r\n  yearsArray.forEach((year) => {\r\n    const newYear: Year = { year: year, id: Math.floor((Math.random() * 1000000)) };\r\n    years.push(newYear);\r\n  });\r\n  isGlobalLoading.value = false;\r\n  return years;\r\n});\r\n\r\nonMounted(() => {\r\n  yearSelectInstance.value = M.FormSelect.init(yearSelect.value);\r\n});\r\n\r\nonUpdated(() => {\r\n  yearSelectInstance.value = M.FormSelect.init(yearSelect.value);\r\n});\r\n</script>","import script from \"./YearSelectComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./YearSelectComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-19b988bc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"day-card__header\" }\nconst _hoisted_2 = { class: \"row valign-wrapper\" }\nconst _hoisted_3 = { class: \"col s12\" }\nconst _hoisted_4 = { class: \"center-align day-card__date\" }\nconst _hoisted_5 = { class: \"row valign-center blue lighten-3\" }\nconst _hoisted_6 = { class: \"col s12\" }\nconst _hoisted_7 = { class: \"center-align day-card__balance\" }\nconst _hoisted_8 = {\n  key: 0,\n  class: \"valign-center\"\n}\nconst _hoisted_9 = { class: \"col s12 red white-text\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"center-align day-card__overspending\" }, \"Не учтено \", -1))\nconst _hoisted_11 = { class: \"center-align day-card__overspending\" }\nconst _hoisted_12 = { class: \"day-card__section day-card__section-income green lighten-4\" }\nconst _hoisted_13 = { class: \"center-align day-card__income-list-item\" }\nconst _hoisted_14 = { class: \"day-card__section day-card__section-outcome orange lighten-4\" }\nconst _hoisted_15 = { class: \"center-align day-card__income-list-item\" }\nconst _hoisted_16 = { class: \"center-align day-card__income-list\" }\nconst _hoisted_17 = { class: \"day-card__section day-card__section-outcome red lighten-3\" }\nconst _hoisted_18 = { class: \"center-align day-card__income-list-item\" }\nconst _hoisted_19 = { class: \"center-align day-card__income-list\" }\nconst _hoisted_20 = { class: \"day-card__footer\" }\nconst _hoisted_21 = { class: \"valign-center\" }\nconst _hoisted_22 = { class: \"col s12\" }\n\nimport { useFiltersStore } from '@/stores/filters';\r\nimport { Transaction, useTransactionsStore } from '@/stores/transactions';\r\nimport { NewCategory, useCategoriesStore } from '@/stores/categories';\r\nimport { usePlanningStore } from '@/stores/limits';\r\nimport { useAccountsStore } from '@/stores/accounts';\r\nimport { DayCard } from '@/components/CalendarGridComponent.vue';\r\nimport { computed, ComputedRef } from 'vue';\r\nimport { storeToRefs } from 'pinia';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CalendarDayCardComponent',\n  props: {\n    day: {}\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\n\r\nconst { dateFilter, currencyFilter } = useFiltersStore();\r\nconst { transactions, transactionsSortedByDate } = storeToRefs(useTransactionsStore());\r\nconst { categoriesAvailableForLimitation } = storeToRefs(useCategoriesStore());\r\nconst { limits } = storeToRefs(usePlanningStore());\r\nconst { accounts } = storeToRefs(useAccountsStore());\r\n\r\nconst todayFilter: number = new Date(props.day.year, props.day.month, props.day.day).getTime(); // 00:00:00 today\r\nconst tomorrowFilter: number = new Date(props.day.year, props.day.month, props.day.day + 1).getTime(); // 00:00:00 tomorrow\r\nconst prevMonthLastDate: number = new Date(props.day.year, props.day.month, 0).getDate();\r\nconst prevMonthFilter: number = new Date(props.day.year, props.day.month - 1, prevMonthLastDate).getTime();\r\n\r\nconst balanceTillToday: ComputedRef<number> = computed(() => {\r\n  return accounts.value.map((acc) => {\r\n    const transferSumTillToday: number = transactions.value\r\n      .filter((rec) => rec.type === 'transfer')\r\n      .filter((rec) => rec.date < todayFilter)\r\n      .reduce((total, record) => {\r\n        if (record.accountId === acc.id) {\r\n          // source account -\r\n          return Number((total - record.amount).toFixed(2));\r\n        } else if (record.categoryId === acc.id) {\r\n          // destination account +\r\n          return Number((total + record.amount).toFixed(2));\r\n        } else {\r\n          return Number(total.toFixed(2));\r\n        }\r\n      }, 0);\r\n\r\n    const incomeSumTillToday: number = transactions.value\r\n      .filter((rec) => rec.accountId === acc.id)\r\n      .filter((rec) => rec.type === 'income')\r\n      .filter((rec) => rec.date < todayFilter)\r\n      .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0);\r\n\r\n    const outcomeSumTillToday: number = transactions.value\r\n      .filter((rec) => rec.accountId === acc.id)\r\n      .filter((rec) => rec.type === 'outcome')\r\n      .filter((rec) => rec.date < todayFilter)\r\n      .reduce((total, record) => Number((total - record.amount).toFixed(2)), 0);\r\n\r\n    let resultSumTillToday: number;\r\n    if (acc.isCountable) {\r\n      resultSumTillToday = acc.initialBalance + transferSumTillToday + incomeSumTillToday + outcomeSumTillToday;\r\n    } else {\r\n      resultSumTillToday = 0;\r\n    }\r\n\r\n    return {\r\n      ...acc,\r\n      resultSumTillToday\r\n    };\r\n  })\r\n    .reduce((total, acc) => Number((total + acc.resultSumTillToday).toFixed(2)), 0);\r\n});\r\n\r\nconst notCountableTransfers: ComputedRef<number> = computed(() => {\r\n  return accounts.value.map((acc) => {\r\n    const transfersToday = transactionsSortedByDate.value\r\n      .filter((rec) => rec.type === 'transfer')\r\n      .filter((rec) => rec.date === todayFilter)\r\n      .reduce((total, rec) => {\r\n        if (rec.accountId === acc.id && !acc.isCountable) {\r\n          return Number((total + rec.amount).toFixed(2));\r\n        } else if (rec.categoryId === acc.id && !acc.isCountable) {\r\n          return Number((total - rec.amount).toFixed(2));\r\n        } else {\r\n          return Number(total.toFixed(2));\r\n        }\r\n      }, 0);\r\n\r\n    return {\r\n      ...acc,\r\n      transfersToday\r\n    };\r\n  })\r\n    .reduce((total, account) => Number((total + account.transfersToday).toFixed(2)), 0);\r\n});\r\n\r\nconst balanceAtTheEndOfTheDay: ComputedRef<number> = computed(() => Number((balanceTillToday.value + allIncomeRecordsSum.value - allOutcomeRecordsSum.value - allNotPlannedRecordsSum.value)));\r\n\r\nconst allCategoriesOverspendSumTillToday: ComputedRef<number> = computed(() =>\r\n  categoriesAvailableForLimitation.value.map((cat) => {\r\n    const spendTillToday: number = transactionsSortedByDate.value\r\n      .filter((tr) => tr.date >= todayFilter)\r\n      .filter((tr) => tr.date < tomorrowFilter)\r\n      .filter((tr) => !tr.isNotPlanned)\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0);\r\n\r\n    const limit: number = <number>limits.value.find((lim) => lim.categoryId === cat.id)?.limit || 0;\r\n\r\n    const overspend: number = (limit > 0) && (spendTillToday - limit) > 0 ? Number((spendTillToday - limit).toFixed(2)) : 0;\r\n\r\n    return {\r\n      ...cat,\r\n      overspend\r\n    };\r\n  })\r\n    .filter((cat) => cat.overspend > 0)\r\n    .reduce((total, cat) => Number((total + cat.overspend).toFixed(2)), 0));\r\n\r\nconst allTodayRecords: ComputedRef<Transaction[]> = computed(() =>\r\n  transactionsSortedByDate.value\r\n    .filter((tr) => tr.type !== 'transfer')\r\n    .filter((tr) => tr.date < tomorrowFilter)\r\n    .filter((tr) => tr.date >= todayFilter));\r\n\r\nconst allIncomeRecordsSum: ComputedRef<number> = computed(() => {\r\n  const income: number = allTodayRecords.value\r\n    .filter((rec) => rec.type === 'income')\r\n    .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0);\r\n\r\n  const total: number = notCountableTransfers.value > 0 ? income + notCountableTransfers.value : income;\r\n\r\n  return Number(total.toFixed(2));\r\n});\r\n\r\nconst allOutcomeRecords: ComputedRef<Transaction[]> = computed(() => allTodayRecords.value\r\n  .filter((rec) => rec.type === 'outcome')\r\n  .filter((rec) => !rec.isNotPlanned));\r\n\r\nconst allOutcomeRecordsSum: ComputedRef<number> = computed(() => {\r\n  const outcome: number = allOutcomeRecords.value\r\n    .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0);\r\n\r\n  const total: number = notCountableTransfers.value < 0 ? outcome + Math.abs(notCountableTransfers.value) : outcome;\r\n\r\n  return Number(total.toFixed(2));\r\n});\r\n\r\nconst allNotPlannedRecordsSum: ComputedRef<number> = computed(() =>\r\n  allTodayRecords.value\r\n    .filter((rec) => rec.type === 'outcome')\r\n    .filter((tr) => tr.isNotPlanned)\r\n    .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0));\r\n\r\nconst notPlannedRecordsSumTillToday: ComputedRef<number> = computed(() =>\r\n  transactionsSortedByDate.value\r\n    .filter((tr) => tr.isNotPlanned)\r\n    .filter((tr) => tr.date > prevMonthFilter)\r\n    .filter((tr) => tr.date <= todayFilter)\r\n    .reduce((total, record) => {\r\n      return Number((total + record.amount).toFixed(2));\r\n    }, 0));\r\n\r\nconst outcomeCategoriesWithSum: ComputedRef<NewCategory[]> = computed(() =>\r\n  categoriesAvailableForLimitation.value.map((cat) => {\r\n    const total: number = allTodayRecords.value\r\n      .filter((tr) => !tr.isNotPlanned)\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .reduce((total, record) => {\r\n        return Number((total + record.amount).toFixed(2));\r\n      }, 0);\r\n\r\n    const forecastTransaction: Transaction | undefined = allTodayRecords.value\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .filter((tr) => tr.type === 'outcome')\r\n      .find((tr) => tr.isForecast);\r\n\r\n    const hasForecast: boolean = forecastTransaction ? forecastTransaction.isForecast : false;\r\n\r\n    return {\r\n      ...cat,\r\n      total,\r\n      hasForecast\r\n    };\r\n  })\r\n    .filter((cat) => cat.total !== 0));\r\n\r\nconst notPlannedCategoriesWithSum: ComputedRef<NewCategory[]> = computed(() =>\r\n  categoriesAvailableForLimitation.value.map((cat) => {\r\n    const total: number = allTodayRecords.value\r\n      .filter((tr) => tr.isNotPlanned)\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .reduce((total, record) => {\r\n        return Number((total + record.amount).toFixed(2));\r\n      }, 0);\r\n\r\n    return {\r\n      ...cat,\r\n      total\r\n    };\r\n  })\r\n    .filter((cat) => cat.total !== 0));\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"article\", {\n    class: _normalizeClass([{'border-red': balanceAtTheEndOfTheDay.value < 0}, \"card-panel grey lighten-2 calendar-list__card day-card\"])\n  }, [\n    _createElementVNode(\"header\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(_unref(dateFilter)(_unref(todayFilter))), 1)\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"div\", _hoisted_7, [\n            _createElementVNode(\"strong\", null, \"Утром \" + _toDisplayString(_unref(currencyFilter)(balanceTillToday.value)), 1)\n          ])\n        ])\n      ]),\n      ((notPlannedRecordsSumTillToday.value + allCategoriesOverspendSumTillToday.value) > 0)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n            _createElementVNode(\"div\", _hoisted_9, [\n              _hoisted_10,\n              _createElementVNode(\"div\", _hoisted_11, _toDisplayString(_unref(currencyFilter)(notPlannedRecordsSumTillToday.value + allCategoriesOverspendSumTillToday.value)), 1)\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"section\", _hoisted_12, [\n      _createElementVNode(\"div\", _hoisted_13, [\n        _createElementVNode(\"strong\", null, \"Доход \" + _toDisplayString(_unref(currencyFilter)(allIncomeRecordsSum.value)), 1)\n      ])\n    ]),\n    _createElementVNode(\"section\", _hoisted_14, [\n      _createElementVNode(\"div\", _hoisted_15, [\n        _createElementVNode(\"strong\", null, \"Расход \" + _toDisplayString(_unref(currencyFilter)(allOutcomeRecordsSum.value)), 1)\n      ]),\n      _createElementVNode(\"ul\", _hoisted_16, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(outcomeCategoriesWithSum.value, (cat) => {\n          return (_openBlock(), _createElementBlock(\"li\", {\n            key: cat.id,\n            class: _normalizeClass([{'grey-text': cat['hasForecast']}, \"day-card__income-list-item\"])\n          }, _toDisplayString(cat.name) + \" - \" + _toDisplayString(_unref(currencyFilter)(cat['total'])), 3))\n        }), 128))\n      ])\n    ]),\n    _createElementVNode(\"section\", _hoisted_17, [\n      _createElementVNode(\"div\", _hoisted_18, [\n        _createElementVNode(\"strong\", null, \"Вне плана \" + _toDisplayString(_unref(currencyFilter)(allNotPlannedRecordsSum.value)), 1)\n      ]),\n      _createElementVNode(\"ul\", _hoisted_19, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(notPlannedCategoriesWithSum.value, (cat) => {\n          return (_openBlock(), _createElementBlock(\"li\", {\n            key: cat.id,\n            class: \"day-card__income-list-item\"\n          }, _toDisplayString(cat.name) + \" - \" + _toDisplayString(_unref(currencyFilter)(cat['total'])), 1))\n        }), 128))\n      ])\n    ]),\n    _createElementVNode(\"footer\", _hoisted_20, [\n      _createElementVNode(\"div\", _hoisted_21, [\n        _createElementVNode(\"div\", _hoisted_22, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([{'red lighten-4': balanceAtTheEndOfTheDay.value < 0, 'green': balanceAtTheEndOfTheDay.value >= 0}, \"center-align day-card__balance\"])\n          }, [\n            _createElementVNode(\"strong\", null, \"Вечером \" + _toDisplayString(_unref(currencyFilter)(balanceAtTheEndOfTheDay.value)), 1)\n          ], 2)\n        ])\n      ])\n    ])\n  ], 2))\n}\n}\n\n})","<template>\r\n  <article\r\n    :class=\"{'border-red': balanceAtTheEndOfTheDay < 0}\"\r\n    class=\"card-panel grey lighten-2 calendar-list__card day-card\">\r\n    <header class=\"day-card__header\">\r\n      <div class=\"row valign-wrapper\">\r\n        <div class=\"col s12\">\r\n          <div class=\"center-align day-card__date\">{{ dateFilter(todayFilter) }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row valign-center blue lighten-3\">\r\n        <div class=\"col s12\">\r\n          <div class=\"center-align day-card__balance\"><strong>Утром {{ currencyFilter(balanceTillToday) }}</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"(notPlannedRecordsSumTillToday + allCategoriesOverspendSumTillToday) > 0\" class=\"valign-center\">\r\n        <div class=\"col s12 red white-text\">\r\n          <div class=\"center-align day-card__overspending\">Не учтено\r\n          </div>\r\n          <div class=\"center-align day-card__overspending\">\r\n            {{ currencyFilter(notPlannedRecordsSumTillToday + allCategoriesOverspendSumTillToday) }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n    <section class=\"day-card__section day-card__section-income green lighten-4\">\r\n      <div class=\"center-align day-card__income-list-item\"><strong>Доход {{\r\n          currencyFilter(allIncomeRecordsSum)\r\n        }}</strong></div>\r\n    </section>\r\n    <section class=\"day-card__section day-card__section-outcome orange lighten-4\">\r\n      <div class=\"center-align day-card__income-list-item\"><strong>Расход {{\r\n          currencyFilter(allOutcomeRecordsSum)\r\n        }}</strong></div>\r\n      <ul class=\"center-align day-card__income-list\">\r\n        <li\r\n          v-for=\"cat in outcomeCategoriesWithSum\"\r\n          :key=\"cat.id\"\r\n          :class=\"{'grey-text': cat['hasForecast']}\"\r\n          class=\"day-card__income-list-item\">\r\n          {{ cat.name }} - {{ currencyFilter(cat['total']) }}\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <section class=\"day-card__section day-card__section-outcome red lighten-3\">\r\n      <div class=\"center-align day-card__income-list-item\"><strong>Вне плана {{\r\n          currencyFilter(allNotPlannedRecordsSum)\r\n        }}</strong></div>\r\n      <ul class=\"center-align day-card__income-list\">\r\n        <li\r\n          v-for=\"cat in notPlannedCategoriesWithSum\"\r\n          :key=\"cat.id\"\r\n          class=\"day-card__income-list-item\">\r\n          {{ cat.name }} - {{ currencyFilter(cat['total']) }}\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <footer class=\"day-card__footer\">\r\n      <div class=\"valign-center\">\r\n        <div class=\"col s12\">\r\n          <div\r\n            :class=\"{'red lighten-4': balanceAtTheEndOfTheDay < 0, 'green': balanceAtTheEndOfTheDay >= 0}\"\r\n            class=\"center-align day-card__balance\"><strong>Вечером {{\r\n              currencyFilter(balanceAtTheEndOfTheDay)\r\n            }}</strong></div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  </article>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { useFiltersStore } from '@/stores/filters';\r\nimport { Transaction, useTransactionsStore } from '@/stores/transactions';\r\nimport { NewCategory, useCategoriesStore } from '@/stores/categories';\r\nimport { usePlanningStore } from '@/stores/limits';\r\nimport { useAccountsStore } from '@/stores/accounts';\r\nimport { DayCard } from '@/components/CalendarGridComponent.vue';\r\nimport { computed, ComputedRef } from 'vue';\r\nimport { storeToRefs } from 'pinia';\r\n\r\nconst props = defineProps<{\r\n  day: DayCard\r\n}>();\r\n\r\nconst { dateFilter, currencyFilter } = useFiltersStore();\r\nconst { transactions, transactionsSortedByDate } = storeToRefs(useTransactionsStore());\r\nconst { categoriesAvailableForLimitation } = storeToRefs(useCategoriesStore());\r\nconst { limits } = storeToRefs(usePlanningStore());\r\nconst { accounts } = storeToRefs(useAccountsStore());\r\n\r\nconst todayFilter: number = new Date(props.day.year, props.day.month, props.day.day).getTime(); // 00:00:00 today\r\nconst tomorrowFilter: number = new Date(props.day.year, props.day.month, props.day.day + 1).getTime(); // 00:00:00 tomorrow\r\nconst prevMonthLastDate: number = new Date(props.day.year, props.day.month, 0).getDate();\r\nconst prevMonthFilter: number = new Date(props.day.year, props.day.month - 1, prevMonthLastDate).getTime();\r\n\r\nconst balanceTillToday: ComputedRef<number> = computed(() => {\r\n  return accounts.value.map((acc) => {\r\n    const transferSumTillToday: number = transactions.value\r\n      .filter((rec) => rec.type === 'transfer')\r\n      .filter((rec) => rec.date < todayFilter)\r\n      .reduce((total, record) => {\r\n        if (record.accountId === acc.id) {\r\n          // source account -\r\n          return Number((total - record.amount).toFixed(2));\r\n        } else if (record.categoryId === acc.id) {\r\n          // destination account +\r\n          return Number((total + record.amount).toFixed(2));\r\n        } else {\r\n          return Number(total.toFixed(2));\r\n        }\r\n      }, 0);\r\n\r\n    const incomeSumTillToday: number = transactions.value\r\n      .filter((rec) => rec.accountId === acc.id)\r\n      .filter((rec) => rec.type === 'income')\r\n      .filter((rec) => rec.date < todayFilter)\r\n      .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0);\r\n\r\n    const outcomeSumTillToday: number = transactions.value\r\n      .filter((rec) => rec.accountId === acc.id)\r\n      .filter((rec) => rec.type === 'outcome')\r\n      .filter((rec) => rec.date < todayFilter)\r\n      .reduce((total, record) => Number((total - record.amount).toFixed(2)), 0);\r\n\r\n    let resultSumTillToday: number;\r\n    if (acc.isCountable) {\r\n      resultSumTillToday = acc.initialBalance + transferSumTillToday + incomeSumTillToday + outcomeSumTillToday;\r\n    } else {\r\n      resultSumTillToday = 0;\r\n    }\r\n\r\n    return {\r\n      ...acc,\r\n      resultSumTillToday\r\n    };\r\n  })\r\n    .reduce((total, acc) => Number((total + acc.resultSumTillToday).toFixed(2)), 0);\r\n});\r\n\r\nconst notCountableTransfers: ComputedRef<number> = computed(() => {\r\n  return accounts.value.map((acc) => {\r\n    const transfersToday = transactionsSortedByDate.value\r\n      .filter((rec) => rec.type === 'transfer')\r\n      .filter((rec) => rec.date === todayFilter)\r\n      .reduce((total, rec) => {\r\n        if (rec.accountId === acc.id && !acc.isCountable) {\r\n          return Number((total + rec.amount).toFixed(2));\r\n        } else if (rec.categoryId === acc.id && !acc.isCountable) {\r\n          return Number((total - rec.amount).toFixed(2));\r\n        } else {\r\n          return Number(total.toFixed(2));\r\n        }\r\n      }, 0);\r\n\r\n    return {\r\n      ...acc,\r\n      transfersToday\r\n    };\r\n  })\r\n    .reduce((total, account) => Number((total + account.transfersToday).toFixed(2)), 0);\r\n});\r\n\r\nconst balanceAtTheEndOfTheDay: ComputedRef<number> = computed(() => Number((balanceTillToday.value + allIncomeRecordsSum.value - allOutcomeRecordsSum.value - allNotPlannedRecordsSum.value)));\r\n\r\nconst allCategoriesOverspendSumTillToday: ComputedRef<number> = computed(() =>\r\n  categoriesAvailableForLimitation.value.map((cat) => {\r\n    const spendTillToday: number = transactionsSortedByDate.value\r\n      .filter((tr) => tr.date >= todayFilter)\r\n      .filter((tr) => tr.date < tomorrowFilter)\r\n      .filter((tr) => !tr.isNotPlanned)\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0);\r\n\r\n    const limit: number = <number>limits.value.find((lim) => lim.categoryId === cat.id)?.limit || 0;\r\n\r\n    const overspend: number = (limit > 0) && (spendTillToday - limit) > 0 ? Number((spendTillToday - limit).toFixed(2)) : 0;\r\n\r\n    return {\r\n      ...cat,\r\n      overspend\r\n    };\r\n  })\r\n    .filter((cat) => cat.overspend > 0)\r\n    .reduce((total, cat) => Number((total + cat.overspend).toFixed(2)), 0));\r\n\r\nconst allTodayRecords: ComputedRef<Transaction[]> = computed(() =>\r\n  transactionsSortedByDate.value\r\n    .filter((tr) => tr.type !== 'transfer')\r\n    .filter((tr) => tr.date < tomorrowFilter)\r\n    .filter((tr) => tr.date >= todayFilter));\r\n\r\nconst allIncomeRecordsSum: ComputedRef<number> = computed(() => {\r\n  const income: number = allTodayRecords.value\r\n    .filter((rec) => rec.type === 'income')\r\n    .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0);\r\n\r\n  const total: number = notCountableTransfers.value > 0 ? income + notCountableTransfers.value : income;\r\n\r\n  return Number(total.toFixed(2));\r\n});\r\n\r\nconst allOutcomeRecords: ComputedRef<Transaction[]> = computed(() => allTodayRecords.value\r\n  .filter((rec) => rec.type === 'outcome')\r\n  .filter((rec) => !rec.isNotPlanned));\r\n\r\nconst allOutcomeRecordsSum: ComputedRef<number> = computed(() => {\r\n  const outcome: number = allOutcomeRecords.value\r\n    .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0);\r\n\r\n  const total: number = notCountableTransfers.value < 0 ? outcome + Math.abs(notCountableTransfers.value) : outcome;\r\n\r\n  return Number(total.toFixed(2));\r\n});\r\n\r\nconst allNotPlannedRecordsSum: ComputedRef<number> = computed(() =>\r\n  allTodayRecords.value\r\n    .filter((rec) => rec.type === 'outcome')\r\n    .filter((tr) => tr.isNotPlanned)\r\n    .reduce((total, record) => Number((total + record.amount).toFixed(2)), 0));\r\n\r\nconst notPlannedRecordsSumTillToday: ComputedRef<number> = computed(() =>\r\n  transactionsSortedByDate.value\r\n    .filter((tr) => tr.isNotPlanned)\r\n    .filter((tr) => tr.date > prevMonthFilter)\r\n    .filter((tr) => tr.date <= todayFilter)\r\n    .reduce((total, record) => {\r\n      return Number((total + record.amount).toFixed(2));\r\n    }, 0));\r\n\r\nconst outcomeCategoriesWithSum: ComputedRef<NewCategory[]> = computed(() =>\r\n  categoriesAvailableForLimitation.value.map((cat) => {\r\n    const total: number = allTodayRecords.value\r\n      .filter((tr) => !tr.isNotPlanned)\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .reduce((total, record) => {\r\n        return Number((total + record.amount).toFixed(2));\r\n      }, 0);\r\n\r\n    const forecastTransaction: Transaction | undefined = allTodayRecords.value\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .filter((tr) => tr.type === 'outcome')\r\n      .find((tr) => tr.isForecast);\r\n\r\n    const hasForecast: boolean = forecastTransaction ? forecastTransaction.isForecast : false;\r\n\r\n    return {\r\n      ...cat,\r\n      total,\r\n      hasForecast\r\n    };\r\n  })\r\n    .filter((cat) => cat.total !== 0));\r\n\r\nconst notPlannedCategoriesWithSum: ComputedRef<NewCategory[]> = computed(() =>\r\n  categoriesAvailableForLimitation.value.map((cat) => {\r\n    const total: number = allTodayRecords.value\r\n      .filter((tr) => tr.isNotPlanned)\r\n      .filter((tr) => tr.categoryId === cat.id)\r\n      .reduce((total, record) => {\r\n        return Number((total + record.amount).toFixed(2));\r\n      }, 0);\r\n\r\n    return {\r\n      ...cat,\r\n      total\r\n    };\r\n  })\r\n    .filter((cat) => cat.total !== 0));\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.day-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n\r\n  &.card-panel {\r\n    margin: 0;\r\n    padding: 12px 6px;\r\n    height: 100%;\r\n  }\r\n\r\n  &.border-red {\r\n    border: 2px solid red;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  & .row {\r\n    margin-bottom: 10px;\r\n\r\n    & .col {\r\n      padding: 0;\r\n    }\r\n  }\r\n\r\n  &__header {\r\n    margin-bottom: 20px;\r\n    min-height: 80px;\r\n  }\r\n\r\n  &__date {\r\n    font-weight: bold;\r\n  }\r\n\r\n  &__section {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  &__footer {\r\n    justify-self: flex-end;\r\n    margin-top: auto;\r\n  }\r\n}\r\n</style>","import script from \"./CalendarDayCardComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CalendarDayCardComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CalendarDayCardComponent.vue?vue&type=style&index=0&id=19b988bc&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-19b988bc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-717b28f5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"calendar-list\" }\n\nimport CalendarDayCardComponent from '@/components/CalendarDayCardComponent.vue';\r\nimport { storeToRefs } from 'pinia';\r\nimport { computed, ComputedRef } from 'vue';\r\nimport { useTransactionsStore } from '@/stores/transactions';\r\n\r\nexport interface DayCard {\r\n  day: number,\r\n  month: number,\r\n  year: number,\r\n  week: number,\r\n  weekday: number,\r\n  weekdayName: string,\r\n  id: number\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CalendarGridComponent',\n  setup(__props) {\n\r\nconst { transactionsMonthFilter, transactionsYearFilter } = storeToRefs(useTransactionsStore());\r\n\r\nconst weekdays: string[] = [ 'Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa' ];\r\n\r\nconst lastDate: ComputedRef<number> = computed(() => new Date(transactionsYearFilter.value, transactionsMonthFilter.value + 1, 0).getDate());\r\n\r\nconst daysOfMonth: ComputedRef<DayCard[]> = computed(() => {\r\n  const days: DayCard[] = [];\r\n  let weekCounter: number = 1;\r\n  for (let i = 1; i <= lastDate.value; i++) {\r\n    const day: DayCard = { id: 0, week: 0, day: 0, month: 0, weekday: 0, weekdayName: '', year: 0 };\r\n    day.day = i;\r\n    day.month = transactionsMonthFilter.value;\r\n    day.year = transactionsYearFilter.value;\r\n    day.weekday = new Date(transactionsYearFilter.value, transactionsMonthFilter.value, i).getDay();\r\n    day.weekdayName = weekdays[day.weekday];\r\n    day.week = weekCounter;\r\n    day.id = new Date(day.year, day.month, day.day).getTime();\r\n    days.push(day);\r\n    if (day.weekday === 0) weekCounter++;\r\n  }\r\n  return days;\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"ul\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(daysOfMonth.value, (day) => {\n      return (_openBlock(), _createElementBlock(\"li\", {\n        key: day.id,\n        style: _normalizeStyle({ 'grid-area': day.weekdayName, 'grid-row': day.week }),\n        class: \"calendar-list__item\"\n      }, [\n        _createVNode(CalendarDayCardComponent, { day: day }, null, 8, [\"day\"])\n      ], 4))\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\r\n  <ul class=\"calendar-list\">\r\n    <li\r\n      v-for=\"day in daysOfMonth\"\r\n      :key=\"day.id\"\r\n      :style=\"{ 'grid-area': day.weekdayName, 'grid-row': day.week }\"\r\n      class=\"calendar-list__item\">\r\n      <CalendarDayCardComponent :day=\"day\"/>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport CalendarDayCardComponent from '@/components/CalendarDayCardComponent.vue';\r\nimport { storeToRefs } from 'pinia';\r\nimport { computed, ComputedRef } from 'vue';\r\nimport { useTransactionsStore } from '@/stores/transactions';\r\n\r\nconst { transactionsMonthFilter, transactionsYearFilter } = storeToRefs(useTransactionsStore());\r\n\r\nconst weekdays: string[] = [ 'Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa' ];\r\n\r\nconst lastDate: ComputedRef<number> = computed(() => new Date(transactionsYearFilter.value, transactionsMonthFilter.value + 1, 0).getDate());\r\n\r\nexport interface DayCard {\r\n  day: number,\r\n  month: number,\r\n  year: number,\r\n  week: number,\r\n  weekday: number,\r\n  weekdayName: string,\r\n  id: number\r\n}\r\n\r\nconst daysOfMonth: ComputedRef<DayCard[]> = computed(() => {\r\n  const days: DayCard[] = [];\r\n  let weekCounter: number = 1;\r\n  for (let i = 1; i <= lastDate.value; i++) {\r\n    const day: DayCard = { id: 0, week: 0, day: 0, month: 0, weekday: 0, weekdayName: '', year: 0 };\r\n    day.day = i;\r\n    day.month = transactionsMonthFilter.value;\r\n    day.year = transactionsYearFilter.value;\r\n    day.weekday = new Date(transactionsYearFilter.value, transactionsMonthFilter.value, i).getDay();\r\n    day.weekdayName = weekdays[day.weekday];\r\n    day.week = weekCounter;\r\n    day.id = new Date(day.year, day.month, day.day).getTime();\r\n    days.push(day);\r\n    if (day.weekday === 0) weekCounter++;\r\n  }\r\n  return days;\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.calendar-list {\r\n  display: grid;\r\n  grid-gap: 20px;\r\n  grid-template-areas:\r\n    \"Mo Tu We Th Fr Sa Su\";\r\n  align-items: stretch;\r\n\r\n  @media (max-width: 1280px) {\r\n    grid-gap: 16px;\r\n  }\r\n\r\n  @media (max-width: 1200px) {\r\n    grid-template-areas: unset;\r\n    grid-template-columns: repeat(5, 1fr);\r\n    grid-gap: 12px;\r\n  }\r\n\r\n  @media (max-width: 998px) {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: repeat(3, 1fr);\r\n    grid-gap: 10px;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  &__item {\r\n    @media (max-width: 1200px) {\r\n      grid-area: unset !important;\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./CalendarGridComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CalendarGridComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CalendarGridComponent.vue?vue&type=style&index=0&id=717b28f5&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-717b28f5\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"container\" }, [\n  /*#__PURE__*/_createElementVNode(\"h3\", null, \"Календарь\")\n], -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1)\nconst _hoisted_3 = { class: \"row\" }\nconst _hoisted_4 = { class: \"col s12 m2 offset-m7\" }\nconst _hoisted_5 = { class: \"col s12 m3\" }\nconst _hoisted_6 = { class: \"row table-scrollable\" }\n\nimport CalendarGridComponent from '@/components/CalendarGridComponent.vue';\r\nimport MonthSelectComponent from '@/components/MonthSelectComponent.vue';\r\nimport YearSelectComponent from '@/components/YearSelectComponent.vue';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CalendarView',\n  setup(__props) {\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(YearSelectComponent)\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createVNode(MonthSelectComponent, { \"show-all\": false })\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(CalendarGridComponent)\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./CalendarView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CalendarView.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","key","selected","value","_hoisted_3","_hoisted_4","_createElementVNode","_defineComponent","__name","props","showAll","type","Boolean","setup","__props","transactionsMonthFilter","storeToRefs","useTransactionsStore","monthSelect","ref","monthSelectInstance","monthsArray","onMounted","M","FormSelect","init","_ctx","_cache","_openBlock","_createElementBlock","_withDirectives","ref_key","$event","_isRef","$props","_createCommentVNode","_Fragment","_renderList","month","index","_toDisplayString","_vModelSelect","_unref","number","__exports__","transactions","transactionsYearFilter","isGlobalLoading","useStatusStore","yearSelect","yearSelectInstance","yearsSelectArray","computed","years","yearsSet","Set","add","Date","getFullYear","forEach","tr","trYear","date","maxYear","Math","max","apply","Array","from","yearsArray","sort","a","b","year","newYear","id","floor","random","push","onUpdated","item","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","day","dateFilter","currencyFilter","useFiltersStore","transactionsSortedByDate","categoriesAvailableForLimitation","useCategoriesStore","limits","usePlanningStore","accounts","useAccountsStore","todayFilter","getTime","tomorrowFilter","prevMonthLastDate","getDate","prevMonthFilter","balanceTillToday","map","acc","transferSumTillToday","filter","rec","reduce","total","record","accountId","Number","amount","toFixed","categoryId","incomeSumTillToday","outcomeSumTillToday","resultSumTillToday","isCountable","initialBalance","notCountableTransfers","transfersToday","account","balanceAtTheEndOfTheDay","allIncomeRecordsSum","allOutcomeRecordsSum","allNotPlannedRecordsSum","allCategoriesOverspendSumTillToday","cat","spendTillToday","isNotPlanned","limit","find","lim","overspend","allTodayRecords","income","allOutcomeRecords","outcome","abs","notPlannedRecordsSumTillToday","outcomeCategoriesWithSum","forecastTransaction","isForecast","hasForecast","notPlannedCategoriesWithSum","_normalizeClass","name","weekdays","lastDate","daysOfMonth","days","weekCounter","i","week","weekday","weekdayName","getDay","style","_normalizeStyle","_createVNode","CalendarDayCardComponent","YearSelectComponent","MonthSelectComponent","CalendarGridComponent"],"sourceRoot":""}